{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./extensions/sketch/generate-color-library.js","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/dom\""],"names":["require","getSelectedDocument","Artboard","Rectangle","Shape","SharedStyle","Style","SymbolMaster","PALETTE","SWATCH_WIDTH","SWATCH_HEIGHT","SWATCH_MARGIN","SWATCH_INITIAL_X","SWATCH_INITIAL_Y","document","page","selectedPage","colors","forEach","colorObjects","rowIndex","colorObject","columnIndex","colorStyle","createColorStyle","createColorSymbol","name","_meta","baseName","style","ensureSharedStyle","type","fills","color","value","fillType","FillType","Color","getSharedStyleByName","fromStyle","match","getSharedLayerStyles","some","parent","x","y","colorArtboard","ensureArtboardWith","colorFill","empty","frame","sharedStyleId","id","syncWithSharedStyle","fromArtboard","width","height","artboard","getArtboardByName","createArtboard","layers","length","layer","remove"],"mappings":"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","file":"generate-color-library.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./extensions/sketch/generate-color-library.js\");\n","/* eslint-disable import/no-unresolved */\nconst { getSelectedDocument } = require('sketch')\nconst { Artboard, Rectangle, Shape, SharedStyle, Style, SymbolMaster } = require('sketch/dom')\n/* eslint-enable import/no-unresolved */\n\nconst PALETTE = require('../../dist/colors.json')\n\nconst SWATCH_WIDTH = 48\nconst SWATCH_HEIGHT = 48\nconst SWATCH_MARGIN = 12\nconst SWATCH_INITIAL_X = 0\nconst SWATCH_INITIAL_Y = 0\n\nexport default () => {\n  const document = getSelectedDocument()\n  const page = document.selectedPage\n\n  PALETTE.colors.forEach((colorObjects, rowIndex) => {\n    colorObjects.forEach((colorObject, columnIndex) => {\n      const colorStyle = createColorStyle(document, colorObject)\n      createColorSymbol(page, colorObject, colorStyle, rowIndex, columnIndex)\n    })\n  })\n}\n\nfunction createColorStyle(document, colorObject) {\n  const name = `Color Fill/${colorObject._meta.baseName}/${colorObject.name}`\n  const style = ensureSharedStyle(document, name)\n  style.style = {\n    type: Style,\n    fills: [\n      {\n        color: colorObject.value,\n        fillType: Style.FillType.Color\n      }\n    ]\n  }\n\n  return style\n}\n\nfunction ensureSharedStyle(document, name) {\n  const style = getSharedStyleByName(document, name)\n  return style ? style : SharedStyle.fromStyle({\n    document,\n    name,\n    style: {\n      type: Style\n    }\n  })\n}\n\nfunction getSharedStyleByName(document, name) {\n  let match = null\n\n  document.getSharedLayerStyles().some(style => {\n    if (style.name === name) {\n      match = style\n      return true\n    }\n  })\n\n  return match\n}\n\nfunction createColorSymbol(parent, colorObject, colorStyle, rowIndex = 0, columnIndex = 0) {\n  const name = `${colorObject._meta.baseName}/${colorObject.name}`\n  const x = SWATCH_INITIAL_X + columnIndex * (SWATCH_WIDTH + SWATCH_MARGIN)\n  const y = SWATCH_INITIAL_Y + rowIndex * (SWATCH_HEIGHT + SWATCH_MARGIN)\n\n  const colorArtboard = ensureArtboardWith(parent, name, x, y, SWATCH_WIDTH, SWATCH_HEIGHT)\n  const colorFill = new Shape({\n    parent: empty(colorArtboard),\n    name: 'bg',\n    frame: new Rectangle(0, 0, SWATCH_WIDTH, SWATCH_HEIGHT),\n    sharedStyleId: colorStyle.id\n  })\n\n  colorFill.style.syncWithSharedStyle(colorStyle)\n  return SymbolMaster.fromArtboard(colorArtboard)\n}\n\nfunction ensureArtboardWith(parent, name, x, y, width, height) {\n  const artboard = getArtboardByName(parent, name)\n  if (!artboard) {\n    return createArtboard(parent, name, x, y, width, height)\n  }\n\n  artboard.frame = new Rectangle(x, y, width, height)\n  return artboard\n}\n\nfunction getArtboardByName(parent, name) {\n  let match = null\n\n  parent.layers.some(artboard => {\n    if (artboard.name === name) {\n      match = artboard\n      return true\n    }\n  })\n\n  return match\n}\n\nfunction createArtboard(parent, name, x, y, width, height) {\n  return new Artboard({\n    parent,\n    name,\n    frame: new Rectangle(x, y, width, height)\n  })\n}\n\nfunction empty(parent) {\n  if (parent.layers.length >= 0) {\n    parent.layers.forEach(layer => {\n      layer.remove()\n    })\n  }\n\n  return parent\n}\n","module.exports = require(\"sketch\");","module.exports = require(\"sketch/dom\");"],"sourceRoot":""}