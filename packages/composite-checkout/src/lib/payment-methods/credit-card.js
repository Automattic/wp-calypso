/**
 * External dependencies
 */
import React from 'react';
import styled from 'styled-components';

/**
 * Internal dependencies
 */
import Button from '../../components/button';
import { useLocalize } from '../../lib/localize';
import { useCheckoutLineItems, renderDisplayValueMarkdown } from '../../index';

export function CreditCardLabel() {
	const localize = useLocalize();
	return (
		<React.Fragment>
			<span>{ localize( 'Credit or debit card' ) }</span>
			<CreditCardLogos />
		</React.Fragment>
	);
}

export function CreditCardSubmitButton() {
	const localize = useLocalize();
	const [ , total ] = useCheckoutLineItems();
	// TODO: we need to use a placeholder for the value so the localization string can be generic
	const buttonString = localize(
		`Pay ${ renderDisplayValueMarkdown( total.amount.displayValue ) }`
	);
	return (
		<Button onClick={ submitCreditCardPayment } buttonState="primary" fullWidth>
			{ buttonString }
		</Button>
	);
}

function CreditCardLogos() {
	//TODO: Determine which logos to show

	return (
		<LogoWrapper>
			<VisaLogo />
			<MasterCardLogo />
			<AmexLogo />
		</LogoWrapper>
	);
}

const LogoWrapper = styled.div`
	display: flex;
`;

function VisaLogo() {
	return (
		<svg
			width="41"
			height="17"
			viewBox="0 0 41 17"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			aria-hidden="true"
		>
			<path
				d="M28.3326 3.41187C27.7955 3.19215 26.9166 2.97244 25.8669 2.97244C23.1327 2.97244 21.2041 4.38837 21.2041 6.39019C21.1797 7.87935 22.5712 8.70938 23.621 9.19763C24.6951 9.71029 25.0613 10.0276 25.0613 10.4915C25.0613 11.175 24.2069 11.4924 23.4012 11.4924C22.3027 11.4924 21.7168 11.3459 20.7891 10.9553L20.4229 10.7844L20.0323 13.1036C20.667 13.3966 21.8633 13.6407 23.1083 13.6651C26.0134 13.6651 27.8931 12.2736 27.9176 10.1253C27.9176 8.9535 27.1852 8.05024 25.5984 7.31786C24.6219 6.82961 24.036 6.51225 24.036 6.024C24.036 5.58458 24.5486 5.12074 25.6228 5.12074C26.526 5.09633 27.1852 5.31604 27.6978 5.51134L27.942 5.6334L28.3326 3.41187ZM35.4122 3.16774H33.2883C32.6292 3.16774 32.1409 3.36304 31.848 4.02218L27.7467 13.5186H30.6517C30.6517 13.5186 31.1156 12.2492 31.2376 11.9562C31.555 11.9562 34.3624 11.9562 34.7775 11.9562C34.8507 12.3224 35.1192 13.5186 35.1192 13.5186H37.6825L35.4122 3.16774ZM32.0189 9.83235C32.2386 9.24645 33.1174 6.92726 33.1174 6.92726C33.093 6.95168 33.3371 6.31695 33.4836 5.95077L33.6789 6.85403C33.6789 6.85403 34.216 9.31969 34.3136 9.85676L32.0189 9.83235ZM15.5648 13.5186L17.2981 3.16774H20.0567L18.3234 13.5186H15.5648ZM13.2457 3.16774L10.5359 10.2229L10.2429 8.78261C9.73025 7.12256 8.16785 5.34045 6.41016 4.43719L8.87582 13.4942H11.8053L16.1507 3.14333L13.2457 3.16774Z"
				fill="#265697"
			/>
			<path
				d="M8.02162 3.14371H3.55414L3.52972 3.36342C6.9963 4.21786 9.29107 6.29292 10.2432 8.78299L9.26666 4.02256C9.09577 3.36342 8.63193 3.16812 8.02162 3.14371Z"
				fill="#D97B16"
			/>
		</svg>
	);
}

function MasterCardLogo() {
	return (
		<svg
			width="41"
			height="17"
			viewBox="0 0 41 17"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			aria-hidden="true"
		>
			<path d="M17.5324 13.7026H23.6991V3.63513H17.5324V13.7026Z" fill="#FF5F00" />
			<path
				d="M18.1634 8.68104C18.1634 10.6431 19.0744 12.4885 20.6161 13.7031C17.8364 15.8988 13.8187 15.4083 11.6231 12.6286C9.42736 9.84896 9.91789 5.83131 12.6975 3.63561C15.01 1.81365 18.2802 1.81365 20.6161 3.63561C19.0744 4.85025 18.1634 6.71893 18.1634 8.68104Z"
				fill="#EB001B"
			/>
			<path
				d="M30.9638 8.68038C30.9638 5.15326 28.0907 2.28017 24.5636 2.28017C23.1387 2.28017 21.7372 2.7707 20.616 3.65832C23.3956 5.85401 23.8862 9.87167 21.6905 12.6513C21.3868 13.0484 21.0131 13.4221 20.616 13.7258C23.3956 15.9215 27.4133 15.431 29.609 12.6513C30.4966 11.5068 30.9638 10.1052 30.9638 8.68038Z"
				fill="#F79E1B"
			/>
		</svg>
	);
}

function AmexLogo() {
	return (
		<svg
			width="42"
			height="16"
			viewBox="0 0 42 16"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			aria-hidden="true"
		>
			<path
				d="M5.21231 2.90482L0.583511 13.1482H6.12484L6.8118 11.515H8.38205L9.06901 13.1482H15.1685V11.9017L15.7119 13.1482H18.8671L19.4106 11.8753V13.1482H32.0957L33.6382 11.5574L35.0825 13.1482L41.5979 13.1614L36.9544 8.05511L41.5979 2.90482H35.1835L33.6821 4.46623L32.2832 2.90482H18.4834L17.2984 5.54872L16.0856 2.90482H10.5559V4.10893L9.94072 2.90482C9.94072 2.90482 5.21231 2.90482 5.21231 2.90482ZM6.28453 4.35939H8.98563L12.0559 11.3055V4.35939H15.0149L17.3863 9.33971L19.5719 4.35939H22.516V11.7097H20.7246L20.7099 5.95004L18.0982 11.7097H16.4956L13.8692 5.95004V11.7097H10.1838L9.4851 10.0619H5.71035L5.0131 11.7083H3.03849C3.03849 11.7083 6.28453 4.35939 6.28453 4.35939ZM24.155 4.35939H31.4395L33.6674 6.76601L35.9672 4.35939H38.1952L34.81 8.05366L38.1952 11.7054H35.8662L33.6382 9.27079L31.3267 11.7054H24.155V4.35939ZM7.59853 5.60302L6.3549 8.53852H8.84072L7.59853 5.60302ZM25.9539 5.88128V7.22307H29.9279V8.71862H25.9539V10.1835H30.4113L32.4824 8.02587L30.4992 5.87999H25.9539V5.88128Z"
				fill="#26A6D1"
			/>
		</svg>
	);
}

function submitCreditCardPayment() {
	alert( 'Thank you!' );
}
