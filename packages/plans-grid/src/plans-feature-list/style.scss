@import '~@automattic/onboarding/styles/mixins';
@import '../variables.scss';

.plans-feature-list {
	margin-top: 16px;

	@include break-small {
		margin-top: 24px;
	}

	.plans-accordion & {
		margin-top: 24px;

		@include break-small {
			margin-top: 36px;
		}
	}
}

ul.plans-feature-list__item-group {
	margin: 0;

	&--columns {
		display: flex;
		flex-wrap: wrap;

		@media ( min-width: $break-mobile ) {
			@supports ( display: grid ) {
				display: grid;
				grid-template-columns: repeat( auto-fill, minmax( 300px, 1fr ) );
			}
		}
	}
}

// <li>
.plans-feature-list__item {
	flex: 300px 0 1;
	margin: 4px 0;

	// If the 'INCLUDED WITH ANNUAL PLANS` text is rendered
	// the item needs more margin top
	& + &--requires-annual-enabled,
	& + &--requires-annual-disabled {
		margin-top: 8px;
	}

	.plans-feature-list__item-group--columns & {
		margin-right: 10px;
		align-self: flex-end;

		@media ( min-width: $break-mobile ) {
			@supports ( display: grid ) {
				align-self: end;
			}
		}
	}
}

// Content wrapper. Can be a <button> in case of the domain feature item
.plans-feature-list__item-content-wrapper,
.plans-feature-list__item-content-wrapper.components-button.is-link {
	display: flex;
	align-items: flex-end;

	font-size: $font-body-small;
	font-weight: 400;
	line-height: 1.2;
	letter-spacing: 0.2px;
	color: var( --studio-gray-70 );

	&.plans-feature-list__item-content-wrapper--domain-button {
		color: var( --studio-blue-40 );
		font-weight: 700;
		padding: 0;
		text-decoration: none;
		cursor: pointer;

		&:hover,
		&:focus {
			color: var( --studio-blue-30 );
		}

		.plans-accordion & {
			color: var( --studio-gray-70 );

			&.is-cta {
				color: var( --studio-gray-100 );
			}

			&:hover,
			&:focus {
				color: var( --studio-gray-50 );
			}
		}

		// Disabled/unavailable text color for when item is a button
		&.is-unavailable,
		.plans-accordion &.is-unavailable {
			color: var( --studio-orange-40 );
			text-decoration: line-through;

			&:hover,
			&:focus {
				color: var( --studio-orange-30 );
			}
		}
	}

	// Disabled/unavailable text color for when item is not a button
	// (but is a disabled feature)
	.plans-feature-list__item--disabled-message & {
		font-weight: 700;
		color: var( --studio-orange-40 );
		text-decoration: line-through;

		&:hover,
		&:focus {
			color: var( --studio-orange-30 );
		}
	}
}

// SVG used as the bullet icon
.plans-feature-list__item-bullet-icon {
	flex-grow: 0;
	flex-shrink: 0;
	margin-right: 6px;

	color: var( --studio-gray-100 );

	.plans-accordion & {
		color: var( --studio-green-60 );
	}

	.plans-feature-list__item-content-wrapper--domain-button.is-unavailable &,
	.plans-feature-list__item--disabled-message &,
	.plans-feature-list__item--requires-annual-disabled & {
		color: var( --studio-orange-40 );
	}

	&,
	path {
		fill: currentColor;
		stroke: currentColor;
	}
}

// Wrapper for the feature item's text content
.plans-feature-list__item-text {
	// Item tends to occupy all available space, but without exceeding parent's width
	flex: 1;
	max-width: 100%;

	// Makes the tick/cross icon align better with the text
	margin-bottom: 1px;
}

// Optional text informing the user that a specific feature is only available with the annual version of a plan
.plans-feature-list__item-annual-nudge {
	display: block;
	text-transform: uppercase;
	font-size: 10px; /* stylelint-disable-line scales/font-size */
	font-weight: 700;
	letter-spacing: 0.02em;
	line-height: 1;
	margin-bottom: 6px;

	.plans-feature-list__item--requires-annual-enabled & {
		color: var( --studio-green-60 );
	}

	.plans-feature-list__item--requires-annual-disabled & {
		color: var( --studio-orange-40 );
	}
}

// The text describing the feature
.plans-feature-list__item-description {
	.plans-feature-list__item-content-wrapper--domain-button.is-cta & {
		text-decoration: underline;
	}

	.plans-feature-list__item--disabled-message &,
	.plans-feature-list__item--disabled-message
		.plans-feature-list__item-content-wrapper--domain-button.is-cta
		&,
	.plans-feature-list__item--requires-annual-disabled &,
	.plans-feature-list__item--requires-annual-disabled
		.plans-feature-list__item-content-wrapper--domain-button.is-cta
		& {
		text-decoration: line-through;
	}
}

.plans-feature-list__item-url {
	word-break: break-all;
}

.plans-feature-list__placeholder {
	@include onboarding-placeholder();
	display: inline-block;
	width: 200px;
}
