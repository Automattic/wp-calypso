// The following changes should be merged in their respective files before nav unification goes to production
@import url( '//s1.wp.com/wp-includes/css/dashicons.css?v=20150727' );

// Override Global Vars
.is-nav-unification {
	// client/assets/stylesheets/shared/_variables.scss
	--sidebar-width-max: 200px;
	--sidebar-width-min: 200px;

	--color-sidebar-background: #23282d;
	--color-sidebar-background-rgb: 35, 40, 45;
	--color-sidebar-menu-hover-background: #32373c;
	--color-sidebar-menu-hover-background-rgb: rgb( #32373c );
	--color-sidebar-menu-hover: var ( --color-sidebar-text );
	--color-sidebar-menu-selected-background: #006fad;
	--color-sidebar-border: var( --color-surface-backdrop );
	--color-sidebar-text: #eee;
	--color-sidebar-text-alternative: #a2aab2;
	--color-sidebar-gridicon-fill: #a2aab2;
}

// Local Vars
$sidebar-item-padding: 8px 0;
$font-size: rem( 14px );

.is-nav-unification {
	// client/layout/sidebar/style.scss
	.sidebar {
		background-color: var( --color-sidebar-background );

		.sidebar__separator {
			margin: 0 0 11px;
		}

		.sidebar__heading,
		.sidebar__menu-link {
			position: relative;
			font-size: $font-size;
			font-weight: 400;
			line-height: 1.3;
			padding: 0 0 0 8px;
			color: var( --color-sidebar-text );
			align-items: center;

			&:hover {
				background-color: var( --color-sidebar-menu-hover-background );
				color: var( --color-sidebar-menu-hover );
			}
		}

		.sidebar__expandable-title,
		.sidebar__menu-link-text {
			padding: $sidebar-item-padding;
		}

		.sidebar__expandable-arrow,
		.gridicons-external {
			display: none;
			width: 20px;
			height: 20px;
		}
		.sidebar__menu.is-togglable {
			.sidebar__heading {
				padding: 0 0 0 8px;
				font-weight: 400;

				&:hover {
					background-color: var( --color-sidebar-menu-hover-background );
					color: var( --color-sidebar-menu-hover );
				}
			}
		}

		.sidebar__menu.is-toggle-open .sidebar__heading {
			background: #0073aa;
			color: white;

			&::after {
				right: 0;
				border: solid 8px transparent;
				content: ' ';
				height: 0;
				width: 0;
				position: absolute;
				pointer-events: none;
				border-right-color: #f1f1f1;
				top: 50%;
				margin-top: -8px;
			}
		}

		.sidebar__expandable-content {
			background: #32373c;
			padding: 7px 0 8px;

			.sidebar__menu-link {
				padding: 5px 12px;
				/* stylelint-disable-next-line scales/font-size */
				font-size: rem( 13px );
				line-height: 1.4;
				font-weight: 400;
				color: #b4b9be;

				&:hover {
					background-color: transparent;
					color: white;
				}
			}

			.sidebar__menu-link-text {
				padding: 0;
			}
		}

		.sidebar__menu-icon {
			color: var( --color-sidebar-gridicon-fill );
		}

		.selected .sidebar__menu-link,
		.selected .sidebar__menu-link:hover {
			background-color: var( --color-sidebar-menu-selected-background );
		}
	}

	//client/my-sites/current-site/style.scss
	.current-site .site,
	.current-site .all-sites,
	.current-site__switch-sites {
		border-color: #333333;
	}

	//client/components/site-selector/style.scss
	.site-selector .site.is-highlighted {
		background-color: var ( --color-sidebar-menu-hover-background );
	}

	.site-selector .site.is-highlighted .site__domain,
	.site-selector .site.is-highlighted .site__title {
		color: var( --color-sidebar-text );
	}

	.site__badge {
		background: var( --color-sidebar-text );
	}
}

@media screen and ( max-width: 782px ) {
	// client/layout/sidebar/style.scss
	.is-nav-unification {
		&.focus-content .layout__content {
			padding: 71px 24px 24px;
		}

		.sidebar {
			.sidebar__separator {
				margin: 0 0 11px;
			}

			.sidebar__heading,
			.sidebar__menu-link {
				padding: 0 0 0 16px;
				font-size: 1rem;
			}

			.sidebar__menu.is-togglable {
				.sidebar__heading {
					padding: 0 0 0 16px;
					font-size: 1rem;
				}
			}

			.sidebar__menu-icon {
				margin-right: 13px;
			}

			.sidebar__expandable-title,
			.sidebar__menu-link-text {
				padding: 13px 0;
			}

			.sidebar__expandable-content {
				.sidebar__menu-link {
					font-size: 1rem;
					padding: 7px 16px 7px 48px;
				}
			}

			.sidebar__menu.is-toggle-open .sidebar__heading::after {
				display: none;
			}
		}
	}
}
