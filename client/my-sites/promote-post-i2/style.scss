@import "@automattic/color-studio/dist/color-variables";
@import "@automattic/components/src/styles/typography";
@import "@wordpress/base-styles/breakpoints";

@mixin promote-post-i2-font {
	color: $studio-gray-60;
	font-family: $font-sf-pro-text;
	font-weight: 400;
	font-size: 0.875rem;
	font-style: normal;
	letter-spacing: -0.15px;
	line-height: 1.43;
}

@mixin blazepress-data-row-font-mobile {
	color: var(--studio-gray-40);
	font-size: 0.75rem;
	font-weight: 400;
	line-height: 1.125;
}

@mixin blazepress-data-row {
	&data-row {
		align-items: center;
		display: flex;
		width: 100%;

		&-mobile {
			display: none;
			margin-top: 20px;

			.post-item__stats-mobile,
			.campaign-item__stats-mobile {
				@include blazepress-data-row-font-mobile;
			}
		}
	}
}

.notouch .promote-post-i2 .section-nav-tab__link:hover {
	background-color: transparent;
}

body.is-section-promote-post-i2 {
	.layout__content {
		position: relative;
		margin: 0;
		padding: calc(32px + 24px) 0 32px var(--sidebar-width-max);

		.main {
			margin: 0;

			&.is-wide-layout {
				max-width: 100%; // 1040px

				.section-nav-tabs {
					width: 100%;

					.section-nav-tabs__list {
						align-items: center;
						display: flex;
						height: 55px;
						margin: 0 64px;
						max-width: 1040px;
						width: auto;
					}
				}

				.promote-post-i2__header-subtitle_mobile,
				.promote-post-i2__search-bar-wrapper,
				.promote-post-i2__aux-wrapper,
				.posts-list__table,
				.campaigns-list__table,
				.posts-list__loading-container,
				.promote-post-i2__table,
				.campaigns-list__loading-container {
					margin: 0 64px;
					max-width: 1040px;
					width: calc(100% - 128px);
				}
			}

			.advertising__page-header {
				// Without a banner
				.formatted-header__title {
					color: $studio-gray-100;
					font-family: $font-sf-pro-display;
					font-style: normal;
					font-weight: 500;
					font-size: 1.5rem;
					letter-spacing: 0.36px;
					line-height: 1.33;
				}

				// With a banner
				&_has-banner .formatted-header__title {
					font-family: $font-sf-pro-text;
					font-size: 0.875rem;
					letter-spacing: -0.15px;
					line-height: 1.43;
				}
			}
		}
	}
}

.promote-post-i2 {
	&__top-bar {
		align-items: center;
		display: flex;
		font-family: $font-sf-pro-text;
		justify-content: space-between;
		margin: 0 64px 16px 64px;

		.formatted-header.is-left-align,
		.formatted-header.is-right-align {
			margin: 0;
		}

		@media (min-width: 661px) {
			.formatted-header.is-left-align,
			.formatted-header.is-right-align,
			.formatted-header__title {
				margin: 0;
			}
		}

		.posts-list-banner__learn-more {
			padding: 6px 12px;
			margin-right: 8px;
			border: 1px solid var(--studio-gray-10);
			// padding: 13px 16px; // TODO: Make sure we need it this way

			.inline-support-link__nowrap {
				color: var(--studio-gray-80);
			}
		}

		&-buttons {
			display: flex;
			margin-left: 10px;

			.is-primary {
				background: #3858ea;
				border: none;
				border-radius: 4px;
				box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
			}
		}

	}

	.promote-post-i2__header-subtitle {
		&_desktop {
			display: block;
		}

		&_mobile {
			display: none;
		}
	}

	.section-nav .section-nav__panel {
		border-top: 0;
	}

	.posts-list-banner__learn-more {
		margin-top: 0;
		margin-right: 8px;
	}

	.section-nav {
		box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.05);

		.is-selected .section-nav-tab__link {
			background-color: transparent;
			color: $studio-gray-100;
		}

		.section-nav-tab__link .count {
			background: var(--studio-gray-0);
			color: $studio-gray-80;
		}

		.section-nav__mobile-header {
			display: none;
		}

		@media screen and (max-width: $break-medium) {
			overflow: auto;

			/* Hide scrollbar for Chrome, Safari and Opera */
			&::-webkit-scrollbar {
				display: none;
			}
			/* Hide scrollbar for IE, Edge and Firefox */
			-ms-overflow-style: none;  /* IE and Edge */
			scrollbar-width: none;  /* Firefox */
		}
	}

	.section-nav-tab {
		margin-right: 16px;

		&__link {
			padding: 16px 0;

			.section-nav-tab__text {
				@include promote-post-i2-font;
				color: $studio-gray-100;
				display: inline;
				flex: none;
				width: auto;

				span {
					vertical-align: middle; // Position tabs Posts and Campaigns vertically equal
				}

				.count {
					border: none;
					border-radius: 2px;
					color: $studio-gray-80;
					font-family: $font-sf-pro-text;
					font-weight: 500;
					font-size: 0.875rem;
					line-height: 1.41; // Position tabs Posts and Campaigns vertically equal
					padding: 0 8px;
				}
			}
		}

		&.pull-right {
			margin-left: auto;
			margin-right: 0;

			@media screen and (max-width: $break-medium) {
				margin: 0;
			}
		}
	}

	.section-nav-tab.is-selected {
		border-bottom: 3px solid var(--color-neutral-70);
		height: 53px;
	}

	.search {
		border: 1px solid #ddd;
		border-radius: 4px;

		&.is-open .search__open-icon {
			fill: $studio-gray-30;
		}
	}

	&__search-bar-wrapper {
		.form-text-input.search__input {
			@include promote-post-i2-font;

			height: calc(100% - 4px) !important;
			margin: 2px 2px 2px 0;
		}

		.search__icon-navigation {
			margin: 2px 0 2px 2px;
		}
	}

	.select-dropdown__header {
		border-color: $studio-gray-30 !important;
		border-radius: 4px;
	}
}

.promote-post-i2__loading-container {
	text-align: center;
}

.promote-post-i2__header-container {
	display: flex;
	flex-direction: row;
	align-items: center;

	.promote-post-i2__heading {
		flex: 1;
	}
}

.promote-post-i2__footer {
	text-align: center;
	margin: 24px 0;

	a {
		color: var(--studio-gray-60);
		text-decoration: underline;
	}
}

.promote-post-i2__empty-content {
	.empty-content__title {
		font-size: $font-body-large;
		font-weight: bold;
	}

	.empty-content__line {
		font-weight: normal;
		font-size: $font-body;
	}
}

.is-mobile-app-view {
	.advertising__page-header,
	.promote-post-i2 .posts-list-banner__container,
	.promote-post-i2 .section-nav,
	.promote-post-i2 .post-item__link {
		display: none;
	}
	.layout.has-no-masterbar.is-group-sites.is-section-promote-post-i2 .layout__content {
		padding-top: 0;
	}

	.layout__primary .main {
		padding-bottom: 0;
	}
}

@mixin blazepress-mobile {
	.layout__content {
		main.main.promote-post-i2 {
			&.is-wide-layout {
				.section-nav-tabs__list {
					height: 54px;
					margin: 0 16px;
				}

				.promote-post-i2__header-subtitle_mobile,
				.promote-post-i2__search-bar-wrapper,
				.posts-list__table,
				.posts-list__loading-container,
				.promote-post-i2__table,
				.campaigns-list__loading-container {
					margin: 0 16px !important;
					width: calc(100% - 32px);
				}

				.promote-post-i2__aux-wrapper {
					margin: 24px 16px 0 16px !important;
					width: calc(100% - 32px);
				}

				.campaigns-list__table {
					margin: 16px 16px 0 16px !important;
					width: calc(100% - 32px);
				}
			}

			.advertising__page-header {
				.formatted-header__title,
				&_has-banner .formatted-header__title {
					font-size: 1.25rem;
					line-height: 1;
				}
			}
		}
	}

	.promote-post-i2 {
		&__top-bar {
			margin: 16px;

			.posts-list-banner__learn-more {
				display: none;
			}
		}

		.promote-post-i2__header-subtitle {
			&_desktop {
				display: none;
			}

			&_mobile {
				display: block;
				font-size: 1rem;
				line-height: 1.5;
			}
		}

		.section-nav-group {
			display: block;
		}

		.section-nav-tab {
			&__link {
				.section-nav-tab__text {
					.count {
						font-size: 0.75rem;
					}
				}
			}
		}

		.select-dropdown__header {
			border: none;
		}
	}
}

// Show Mobile view for screens if window width <= 782px
@media screen and (max-width: $break-medium) {
	@include blazepress-mobile;
}

// Show Mobile view if sidebar is collapsed and main content width <= 782px
$break-medium-collapsed-menu: $break-medium + 36px;
@media screen and (max-width: $break-medium-collapsed-menu) {
	body.is-section-promote-post-i2.is-sidebar-collapsed {
		@include blazepress-mobile;
	}
}

// Show Mobile view if sidebar is expanded and main content width <= 782px
$break-medium-expanded-menu: $break-medium + 272px;
@media screen and (max-width: $break-medium-expanded-menu) {
	body.is-section-promote-post-i2:not(.is-sidebar-collapsed) {
		@include blazepress-mobile;
	}
}

@mixin blazepress-huge {
	.promote-post-i2__top-bar,
	.section-nav-tabs .section-nav-tabs__list,
	.promote-post-i2__search-bar-wrapper,
	.promote-post-i2__table,
	.promote-post-i2__aux-wrapper,
	.posts-list-banner__container .posts-list-banner__content {
		max-width: 1040px;
		margin-left: auto;
		margin-right: auto;
	}
}

@media (min-width: $break-huge) {
	body.is-section-promote-post-i2:not(.is-sidebar-collapsed) .layout__content .main.is-wide-layout {
		@include blazepress-huge;
	}
}

$break-huge-collapsed-menu: $break-huge - 222px;
@media (min-width: $break-huge-collapsed-menu) {
	body.is-section-promote-post-i2.is-sidebar-collapsed .layout__content .main.is-wide-layout {
		@include blazepress-huge;
	}
}

@media screen and (max-width: $break-mobile) {
	.layout__content {
		main.main.promote-post-i2 {
			.section-nav-tab.is-selected {
				height: 51px; // Reduce heights increased by adding the bottom border
			}
		}
	}
}
