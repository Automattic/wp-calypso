<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="972px" preserveAspectRatio="none" style="width:1814px;height:972px;" version="1.1" viewBox="0 0 1814 972" width="1814px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pek7y79dp0kg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F7DCC6" height="957.0059" style="stroke: #A80036; stroke-width: 1.0;" width="141" x="9" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="81.5" y="16.5684"/><rect fill="#F5E6B3" height="957.0059" style="stroke: #A80036; stroke-width: 1.0;" width="141" x="251" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="295" y="16.5684">Calypso</text><rect fill="#B8E6BF" height="957.0059" style="stroke: #A80036; stroke-width: 1.0;" width="1383" x="404" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="1026.5" y="16.5684">Composite Checkout</text><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="74.5" y="626.0332"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="57.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="596.7227"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="653.5" y="330.5938"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1068.5" y="203.3516"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1676.5" y="508.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="79" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="79" x2="79" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="79" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321" x2="321" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="321" x2="321" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321" x2="321" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="491" x2="491" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="491" x2="491" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="491" x2="491" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658" x2="658" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="658" x2="658" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658" x2="658" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851" x2="851" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="851" x2="851" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851" x2="851" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1073" x2="1073" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1073" x2="1073" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1073" x2="1073" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1277" x2="1277" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1277" x2="1277" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1277" x2="1277" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1473" x2="1473" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1473" x2="1473" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1473" x2="1473" y1="463.4805" y2="922.5176"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1681" x2="1681" y1="58.7988" y2="422.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1681" x2="1681" y1="422.5254" y2="463.4805"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1681" x2="1681" y1="463.4805" y2="922.5176"/><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="18" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="25" y="43.8457">WordPress.com</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="18" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="25" y="942.0527">WordPress.com</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="260" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="267" y="43.8457">Undocumented</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="260" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="267" y="942.0527">Undocumented</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="413" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="420" y="43.8457">CompositeCheckout</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="413" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="420" y="942.0527">CompositeCheckout</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="590" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="597" y="43.8457">useShoppingCart</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="590" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="597" y="942.0527">useShoppingCart</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="747" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="190" x="754" y="43.8457">useInitializeCartFromServer</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="747" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="190" x="754" y="942.0527">useInitializeCartFromServer</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="975" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="982" y="43.8457">useShoppingCartManager</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="975" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="982" y="942.0527">useShoppingCartManager</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="1192" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="1199" y="43.8457">ShoppingCartProvider</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="1192" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="1199" y="942.0527">ShoppingCartProvider</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1382" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1389" y="43.8457">CheckoutSystemDecider</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1382" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1389" y="942.0527">CheckoutSystemDecider</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="1585" y="23.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175" x="1592" y="43.8457">useShoppingCartReducer</text><rect fill="#FEFECE" filter="url(#f1pek7y79dp0kg)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="1585" y="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175" x="1592" y="942.0527">useShoppingCartReducer</text><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="74.5" y="626.0332"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="57.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="596.7227"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="653.5" y="330.5938"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1068.5" y="203.3516"/><rect fill="#FFFFFF" filter="url(#f1pek7y79dp0kg)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1676.5" y="508.791"/><polygon fill="#A80036" points="1461.5,86.1094,1471.5,90.1094,1461.5,94.1094,1465.5,90.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321.5" x2="1467.5" y1="90.1094" y2="90.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="328.5" y="85.3672">import getCart</text><path d="M1394,103.1094 L1394,143.1094 L1549,143.1094 L1549,113.1094 L1539,103.1094 L1394,103.1094 " fill="#FBFB77" filter="url(#f1pek7y79dp0kg)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1539,103.1094 L1539,113.1094 L1549,113.1094 L1539,103.1094 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="1400" y="120.6777">cart from props</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1400" y="135.9883">or fall back to import</text><polygon fill="#A80036" points="1288,170.041,1278,174.041,1288,178.041,1284,174.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1282" x2="1472.5" y1="174.041" y2="174.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="1294" y="169.2988">cartKey, getCart</text><polygon fill="#A80036" points="1089.5,199.3516,1079.5,203.3516,1089.5,207.3516,1085.5,203.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1083.5" x2="1276" y1="203.3516" y2="203.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="1095.5" y="198.6094">cartKey, getCart</text><polygon fill="#A80036" points="1265,213.3516,1275,217.3516,1265,221.3516,1269,217.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1073.5" x2="1271" y1="217.3516" y2="217.3516"/><path d="M1189,230.3516 L1189,270.3516 L1361,270.3516 L1361,240.3516 L1351,230.3516 L1189,230.3516 " fill="#FBFB77" filter="url(#f1pek7y79dp0kg)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1351,230.3516 L1351,240.3516 L1361,240.3516 L1351,230.3516 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="1195" y="247.9199">manager</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1195" y="263.2305">stored as provider value</text><polygon fill="#A80036" points="669.5,312.5938,659.5,316.5938,669.5,320.5938,665.5,316.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="663.5" x2="1276" y1="316.5938" y2="316.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="675.5" y="296.541">cacheStatus: 'fresh'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="675.5" y="311.8516">responseCart: emptyResponseCart</text><polygon fill="#A80036" points="641.5,326.5938,651.5,330.5938,641.5,334.5938,645.5,330.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="491.5" x2="647.5" y1="330.5938" y2="330.5938"/><polygon fill="#A80036" points="502.5,355.9043,492.5,359.9043,502.5,363.9043,498.5,359.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="496.5" x2="657.5" y1="359.9043" y2="359.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="508.5" y="355.1621">isLoading: true</text><path d="M455,372.9043 L455,412.9043 L523,412.9043 L523,382.9043 L513,372.9043 L455,372.9043 " fill="#FBFB77" filter="url(#f1pek7y79dp0kg)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M513,372.9043 L513,382.9043 L523,382.9043 L513,372.9043 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="461" y="390.4727">render</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="461" y="405.7832">loading</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="809.5" y="447.1602">cart loads asynchronously</text><path d="M982,468.4805 L982,493.4805 L1160,493.4805 L1160,478.4805 L1150,468.4805 L982,468.4805 " fill="#FBFB77" filter="url(#f1pek7y79dp0kg)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1150,468.4805 L1150,478.4805 L1160,478.4805 L1150,468.4805 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="988" y="486.0488">getCart bound to cartKey</text><polygon fill="#A80036" points="1664.5,504.791,1674.5,508.791,1664.5,512.791,1668.5,508.791" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1073.5" x2="1670.5" y1="508.791" y2="508.791"/><polygon fill="#A80036" points="1084.5,534.1016,1074.5,538.1016,1084.5,542.1016,1080.5,538.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1078.5" x2="1680.5" y1="538.1016" y2="538.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="1090.5" y="533.3594">dispatcher</text><polygon fill="#A80036" points="862,563.4121,852,567.4121,862,571.4121,858,567.4121" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="856" x2="1072.5" y1="567.4121" y2="567.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="868" y="562.6699">getCart, dispatcher</text><polygon fill="#A80036" points="337.5,592.7227,327.5,596.7227,337.5,600.7227,333.5,596.7227" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="331.5" x2="850" y1="596.7227" y2="596.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="343.5" y="591.9805">&lt;&lt; getCart &gt;&gt;</text><polygon fill="#A80036" points="95.5,622.0332,85.5,626.0332,95.5,630.0332,91.5,626.0332" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="315.5" y1="626.0332" y2="626.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="101.5" y="621.291">GET /me/shopping-cart/{cartKey}</text><polygon fill="#A80036" points="304.5,636.0332,314.5,640.0332,304.5,644.0332,308.5,640.0332" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="79.5" x2="310.5" y1="640.0332" y2="640.0332"/><polygon fill="#A80036" points="839,650.0332,849,654.0332,839,658.0332,843,654.0332" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="845" y1="654.0332" y2="654.0332"/><polygon fill="#A80036" points="1669.5,679.3438,1679.5,683.3438,1669.5,687.3438,1673.5,683.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851" x2="1675.5" y1="683.3438" y2="683.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="858" y="678.6016">dispatch RECEIVE_INITIAL_RESPONSE_CART</text><path d="M1556,696.3438 L1556,751.3438 L1802,751.3438 L1802,706.3438 L1792,696.3438 L1556,696.3438 " fill="#FBFB77" filter="url(#f1pek7y79dp0kg)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1792,696.3438 L1792,706.3438 L1802,706.3438 L1792,696.3438 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1562" y="713.9121">Moves the payload to .responseCart</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="1562" y="729.2227">updates .couponStatus,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="1562" y="744.5332">and sets .cacheStatus to 'valid'</text><polygon fill="#A80036" points="1288,763.2754,1278,767.2754,1288,771.2754,1284,767.2754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1282" x2="1680.5" y1="767.2754" y2="767.2754"/><path d="M1180,780.2754 L1180,805.2754 L1369,805.2754 L1369,790.2754 L1359,780.2754 L1180,780.2754 " fill="#FBFB77" filter="url(#f1pek7y79dp0kg)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1359,780.2754 L1359,790.2754 L1369,790.2754 L1359,780.2754 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="1186" y="797.8438">stored manager is updated</text><polygon fill="#A80036" points="669.5,816.5859,659.5,820.5859,669.5,824.5859,665.5,820.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="663.5" x2="1276" y1="820.5859" y2="820.5859"/><polygon fill="#A80036" points="502.5,845.8965,492.5,849.8965,502.5,853.8965,498.5,849.8965" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496.5" x2="657.5" y1="849.8965" y2="849.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="508.5" y="845.1543">isLoading: false</text><path d="M437,862.8965 L437,902.8965 L541,902.8965 L541,872.8965 L531,862.8965 L437,862.8965 " fill="#FBFB77" filter="url(#f1pek7y79dp0kg)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M531,862.8965 L531,872.8965 L541,872.8965 L531,862.8965 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="443" y="880.4648">render</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="443" y="895.7754">responseCart</text><!--
@startuml


skinparam ParticipantPadding 5
skinparam BoxPadding 5

box " " #f7dcc6
  participant WordPress.com
end box
box "Calypso" #f5e6b3
  participant Undocumented
end box
box "Composite Checkout" #b8e6bf
  participant CompositeCheckout
  participant useShoppingCart
  participant useInitializeCartFromServer
  participant useShoppingCartManager
  participant ShoppingCartProvider
  participant CheckoutSystemDecider
  participant useShoppingCartReducer
end box

Undocumented -> CheckoutSystemDecider : import getCart
note over CheckoutSystemDecider
	cart from props
	or fall back to import
end note
CheckoutSystemDecider -> ShoppingCartProvider : cartKey, getCart
ShoppingCartProvider -> useShoppingCartManager : cartKey, getCart
activate useShoppingCartManager
return
note over ShoppingCartProvider : manager\nstored as provider value
ShoppingCartProvider -> useShoppingCart : cacheStatus: 'fresh'\nresponseCart: emptyResponseCart
CompositeCheckout -> useShoppingCart
activate useShoppingCart
return isLoading: true
note over CompositeCheckout : render\nloading
...cart loads asynchronously...
note over useShoppingCartManager : getCart bound to cartKey
useShoppingCartManager -> useShoppingCartReducer
activate useShoppingCartReducer
return dispatcher
useShoppingCartManager -> useInitializeCartFromServer : getCart, dispatcher
useInitializeCartFromServer -> Undocumented : << getCart >>
activate Undocumented
	Undocumented -> WordPress.com : GET /me/shopping-cart/{cartKey}
	activate WordPress.com
	return
return
useInitializeCartFromServer -> useShoppingCartReducer : dispatch RECEIVE_INITIAL_RESPONSE_CART
note over useShoppingCartReducer
  Moves the payload to .responseCart
  updates .couponStatus,
  and sets .cacheStatus to 'valid'
end note
useShoppingCartReducer -> ShoppingCartProvider
note over ShoppingCartProvider
	stored manager is updated
end note
ShoppingCartProvider -> useShoppingCart
useShoppingCart -> CompositeCheckout : isLoading: false
note over CompositeCheckout: render\nresponseCart
@enduml

PlantUML version 1.2019.06(Fri May 24 12:10:25 CDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 14+36-1461
Operating System: Mac OS X
OS Version: 10.15.7
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>