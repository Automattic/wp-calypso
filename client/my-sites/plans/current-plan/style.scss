.current-plan__dialog.dialog__backdrop {
	background-color: rgba(var(--color-neutral-dark-rgb), 0.85);
	box-shadow: none;
	margin: 0;

	.dialog__backdrop__content {
		background-color: var(--color-surface);
	}
}

.current-plan__header {
	display: flex;
	flex-flow: row wrap;
	margin-bottom: 12px;
}

.current-plan__header-content {
	width: 100%;
	padding: 14px 32px;
	background-color: var(--color-surface);
	box-shadow: 0 0 0 1px rgba(var(--color-neutral-10-rgb), 0.5), 0 1px 2px var(--color-neutral-0);

	&-main {
		display: flex;
	}

	.is-jetpack-free & {
		@include breakpoint-deprecated(">800px") {
			display: flex;
			align-items: center;
			text-align: left;
		}
	}
}

.current-plan__header-icon {
	display: none;

	@include breakpoint-deprecated(">480px") {
		display: flex;
		flex-shrink: 0;
		width: 100px;
		height: 100px;
		margin: auto 40px auto 20px;
	}
}

.current-plan__header-copy {
	width: 100%;
	margin: auto;
	text-align: left;

	.current-plan__header & {
		margin-bottom: 30px;
	}
}

.current-plan__header-heading,
.current-plan__header-text {
	clear: none;
}

.current-plan__header-heading {
	font-size: $font-title-medium;
	font-weight: 400;
	margin: 24px 0 8px;
}

.current-plan__header-text {
	font-size: $font-title-small;
}

.current-plan__header.is-placeholder {
	.current-plan__header-icon {
		display: none;
	}

	.current-plan__header-heading,
	.current-plan__header-text {
		@include placeholder(--color-neutral-10);

		display: block;

		@include breakpoint-deprecated("<660px") {
			margin: 0 auto;
		}
	}

	.current-plan__header-heading {
		width: 50%;
	}

	.current-plan__header-text {
		/* stylelint-disable-next-line declaration-property-unit-allowed-list */
		line-height: 2em;
		margin-bottom: 8px;
		margin-top: 15px;
		width: 90%;

		@include breakpoint-deprecated(">660px") {
			margin-bottom: 18px;
			margin-top: 18px;
		}
	}
}

.current-plan__header-purchase-info-wrapper.card.is-compact {
	margin: 24px -32px -14px;
	display: flex;
	flex-direction: column;
}

.current-plan__header-purchase-info {
	display: flex;
	justify-content: space-between;
	align-items: center;

	&.is-expiring {
		.current-plan__expires-in {
			color: var(--color-error);
		}
	}

	.button.is-compact {
		flex-shrink: 0;
	}
}

.current-plan__header-expires-in {
	color: var(--color-text-subtle);
}

.current-plan__compare-plans {
	display: flex;
	justify-content: center;
	margin-left: 16px;
	min-width: 140px;

	@include breakpoint-deprecated(">660px") {
		justify-content: flex-end;
	}
}

.current-plan__text {
	margin-top: 10px;
	margin-bottom: 10px;
	text-align: center;
}

body.is-section-plans.is-trial-plan {
	&.theme-default.color-scheme {
		--color-surface-backdrop: #fff;
	}

	.current-plan__content {
		.section-nav {
			box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.05);
		}

		.current-plan__trial-card {
			display: flex;
			padding: 40px;
			background-color: rgba(var(--color-neutral-0-rgb), 0.8);
			box-shadow: none;

			.current-plan__trial-card-content {
				flex: 1;
				padding-right: 50px;

				.current-plan__card-title {
					font-size: $font-title-medium;
					font-weight: 400;
					color: #000;
					margin: 0;
				}

				.current-plan__card-subtitle {
					font-size: $font-body;
					font-weight: 400;
					margin: 15px 0;
					color: var(--color-neutral-40);
				}
			}
		}

		.current-plan__section-title {
			font-size: $font-title-medium;
			text-align: center;
			font-weight: 400;
			color: var(--color-neutral-80);
			margin: 40px 0 10px 0;
		}

		.current-plan__section-subtitle {
			text-align: center;
			font-size: $font-body;
			color: var(--color-neutral-40);
		}

		.current-plan__included-wrapper {
			display: flex;
			flex-flow: row wrap;
			list-style: none;
			padding: 0;
			margin-top: 30px;
		}

		.current-plan__more-wrapper {
			display: flex;
			flex-flow: row wrap;
			list-style: none;
			padding: 20px;
			margin-top: 30px;

			.card {
				width: 490px;
				display: flex;
				box-shadow: none;

				.current-plan__more-illustration {
					width: 130px;
					height: fit-content;
				}

				.current-plan__more-content {
					padding-left: 25px;

					.current-plan__more-title {
						font-weight: 600;
						font-size: $font-body;
						margin-bottom: 1rem;
					}

					.current-plan__more-text {
						font-weight: 400;
						font-size: $font-body-small;
						color: var(--color-neutral-40);
					}
				}
			}
		}

		.current-plan__cta-wrapper {
			text-align: center;
			margin-top: 30px;
		}
	}

	.plans__chart-wrapper {
		text-align: center;
		padding: 0 20px;

		.plans__chart {
			// percentage
			@property --p {
				syntax: "<number>";
				inherits: true;
				initial-value: 25;
			}

			// width
			--w: 80px;
			// donut line width
			--b: 9px;
			// donut color
			--c: var(--color-accent);

			background-color: #fff;
			width: var(--w);
			aspect-ratio: 1;
			position: relative;
			display: inline-grid;
			margin: 15px 0;
			place-content: center;
			font-size: $font-title-medium;
			border-radius: 50%;
			box-shadow:
				inset 0 0 0 var(--b) var(--color-accent-0),
				inset 0 0 0 10px #fff;

			&::before,
			&::after {
				content: "";
				position: absolute;
				border-radius: 50%;
			}

			&::before {
				inset: 0;
				background:
					radial-gradient(farthest-side, var(--c) 98%, #0000) top/var(--b) var(--b) no-repeat,
					conic-gradient(var(--c) calc(var(--p) * 1%), #0000 0);
				-webkit-mask: radial-gradient(farthest-side, #0000 calc(99% - var(--b)), #000 calc(100% - var(--b)));
				mask: radial-gradient(farthest-side, #0000 calc(99% - var(--b)), #000 calc(100% - var(--b)));
			}

			&::after {
				inset: calc(50% - var(--b) / 2);
				background: var(--c);
				transform: rotate(calc(var(--p) * 3.6deg)) translateY(calc(50% - var(--w) / 2));
			}
		}

		.plans__chart-label {
			color: var(--color-neutral);
		}
	}
}
