@import "@wordpress/base-styles/breakpoints";
@import "@wordpress/base-styles/mixins";

.plans main {
	padding-top: 17px;
}

body.is-section-plans.is-domain-sidebar-experiment-user {
	background: var(--color-body-background);

	.layout__content {
		padding-left: 0 !important;
	}

	.plans__header {
		display: block;

		h1 {
			font-family: $brand-serif;
			font-size: $font-headline-small;
		}

		p {
			font-size: $font-body;
			color: var(--color-text-subtle);
			text-align: center;
			padding: 0 10px;
		}
	}

	@include break-small {
		.plans__header {
			h1 {
				font-size: $font-headline-medium;
			}
			p {
				padding: 0 80px;
			}
		}
	}

	.main.is-wide-layout {
		max-width: $break-medium;
	}

	// plans comparison grid
	.plan-features-comparison__table-item {
		border-left: none;
		background-color: transparent;

		&:last-of-type {
			border-right: none;
		}

		.plan-pill.is-in-signup {
			font-size: 0.75rem;
			font-weight: 500;
			letter-spacing: 0.2px;
			/* stylelint-disable-next-line declaration-property-unit-allowed-list */
			line-height: 1.25rem;
			padding: 0 8px;
			right: 52%;
			transform: translate(50%);
			border-radius: 4px;
			background-color: var(--studio-green-5);
			color: var(--studio-gray-80);
		}
	}

	.plan-features-comparison__header {
		background-color: transparent;
	}

	.plan-features-comparison__row:last-of-type .plan-features-comparison__table-item {
		border-bottom: none;
	}

	.plan-features--signup .is-premium-plan .plan-features-comparison__header-title {
		font-weight: 500;
	}

	.plan-features--signup .plan-features-comparison__pricing {
		.plan-price {
			font-weight: 500;

			.plan-price__integer {
				font-weight: 500;
			}
		}

		.plan-features-comparison__header-billing-info {
			font-weight: 500;
		}
	}

	.plan-features-comparison__item-title {
		color: var(--studio-gray-60);
	}

	.plan-features-comparison__item.plan-features-comparison__item-available {
		.plan-features-comparison__item-annual-plan-container
		.plan-features-comparison__item-annual-plan {
			color: var(--studio-orange-40);
		}
	}

	.plans-features-main__group.is-scrollable:not(.is-2023-pricing-grid) {
		@media ( min-width: 1800px ) {
			margin-left: -360px;
		}
	}
}

body.is-section-plans.is-trial-plan {
	&.theme-default.color-scheme {
		--color-surface-backdrop: #fff;
	}

	.section-nav {
		box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.05);
	}

	.plans__trial-card {
		display: flex;
		padding: 30px;
		background-color: #f6f7f799;
		box-shadow: none;

		.plans__trial-card-content {
			flex: 1;
			padding-right: 100px;

			.badge {
				border-radius: 0;
				background-color: #000;
				color: #fff;
				font-size: 0.75rem;
			}

			.plans__card-title {
				font-size: $font-title-medium;
				font-weight: 400;
				color: #2f2f2f;
				margin: 15px 0;
			}

			.plans__card-subtitle {
				font-size: 1rem;
				font-weight: 400;
				color: #757575;
			}
		}

		.plans__chart-wrapper {
			text-align: center;
			padding: 0 20px;

			.plans__chart {
				@property --p {
					syntax: "<number>";
					inherits: true;
					initial-value: 25;
				}

				--p: 20;
				--b: 9px;
				--c: #c9356e;
				--w: 80px;

				background-color: #fff;
				width: var(--w);
				aspect-ratio: 1;
				position: relative;
				display: inline-grid;
				margin: 15px 0;
				place-content: center;
				font-size: $font-title-medium;
				border-radius: 50%;
				box-shadow: inset 0 0 0 var(--b) #f5e9ed, inset 0 0 0 10px #fff;

				&::before,
				&::after {
					content: "";
					position: absolute;
					border-radius: 50%;
				}

				&::before {
					inset: 0;
					background:
						radial-gradient(farthest-side, var(--c) 98%, #0000) top/var(--b)
						var(--b) no-repeat,
						conic-gradient(var(--c) calc(var(--p) * 1%), #0000 0);
					-webkit-mask: radial-gradient(farthest-side, #0000 calc(99% - var(--b)), #000 calc(100% - var(--b)));
					mask: radial-gradient(farthest-side, #0000 calc(99% - var(--b)), #000 calc(100% - var(--b)));
				}

				&::after {
					inset: calc(50% - var(--b) / 2);
					background: var(--c);
					transform:
						rotate(calc(var(--p) * 3.6deg))
						translateY(calc(50% - var(--w) / 2));
				}
			}

			.plans__chart-label {
				color: #646970;
			}
		}
	}
}
