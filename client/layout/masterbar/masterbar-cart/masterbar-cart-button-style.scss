.masterbar-cart-button {
	cursor: pointer;

	.masterbar-cart__bubble {
		border: solid 2px var( --color-masterbar-background );
		background: var( --color-masterbar-unread-dot-background );
		// stylelint-disable-next-line declaration-property-unit-allowed-list
		border-radius: 50%;
		// stylelint-disable-next-line declaration-property-unit-allowed-list
		font-size: 8px;
		height: 8px;
		letter-spacing: 0;
		line-height: 12px;
		margin: 0 0 0 -12px;
		padding: 0;
		position: absolute;
		top: 3px;
		right: 20%;
		width: 8px;
		z-index: z-index( '.masterbar', '.masterbar-cart__bubble' );

		@media only screen and ( max-width: 782px ) {
			top: 10px;
		}
	}

	&:hover .masterbar-cart__bubble {
		border-color: var( --color-masterbar-item-hover-background );
	}

	&.is-active .masterbar-cart__bubble {
		border-color: var( --color-masterbar-item-active-background );
	}
}

.masterbar-cart-button__count-container {
	display: inline-block;
	padding: 1px 4px;
	border: 1px solid var( --color-accent );
	border-radius: 12px; /* stylelint-disable-line scales/radii */
	font-size: 0.75rem;
	font-weight: 600;
	line-height: 1;
	text-align: center;
	position: absolute;
	top: 5px;
	right: 6px;
	color: var( --color-text-inverted );
	background-color: var( --color-accent );

	@include breakpoint-deprecated( '>480px' ) {
		font-size: 0.6rem; /* stylelint-disable-line scales/font-sizes */
		padding: 1px 4px;
		top: 4px;
	}
}

/* The next several rules make the popover nearly fullscreen at mobile widths */
.masterbar-cart-button__popover .popover__arrow {
	@include breakpoint-deprecated( '<480px' ) {
		display: none;
	}
}

.masterbar-cart-button__popover.popover.is-bottom .popover__inner,
.masterbar-cart-button__popover.popover.is-bottom-left .popover__inner,
.masterbar-cart-button__popover.popover.is-bottom-right .popover__inner,
.masterbar-cart-button__popover.popover .popover__inner {
	@include breakpoint-deprecated( '<480px' ) {
		top: 0;
	}
}

.masterbar-cart-button__popover .mini-cart {
	@include breakpoint-deprecated( '<480px' ) {
		display: flex;
		flex-direction: column;
		position: fixed;
		top: var( --masterbar-height );
		right: 0;
		bottom: 1em;
		background-color: var( --color-surface );
	}
}

.masterbar-cart-button__popover .mini-cart-line-items {
	@include breakpoint-deprecated( '<480px' ) {
		max-height: none;
	}
}

.masterbar-cart-button__popover .mini-cart__total {
	@include breakpoint-deprecated( '<480px' ) {
		margin-top: auto;
	}
}
