// Reader Sidebar
.sidebar.reader-sidebar {

	.sidebar-menu {
		margin-bottom: 8px;

		.selected {
			.menu-link-icon,
			.sidebar-menu__action .gridicon {
				fill: $white;
			}

			.sidebar-streams__edit-icon {
				fill: $white;
			}
		}

		.is-action-button-selected {
			background-color: $gray-light;

			.gridicon {
				fill: darken( $gray, 20% );
			}

			.menu-link-text {
				color: $gray-dark;
			}

			.add-new {
				background-color: darken( $gray, 10% );
				color: $white;
			}
		}
	}

	.sidebar-streams {}

	.is-togglable {

		@include breakpoint( "<660px" ) {
			margin-top: 0;
		}

		.sidebar-heading {
			margin: 0;
			padding: 10px 16px 10px 55px;
			cursor: pointer;
			position: relative;
			transition: background-color 0.15s ease-in-out,
				box-shadow 0.15s ease-in-out;

			.gridicon {
				top: 10px;
				left: 20px;
				height: 16px; // I know, I know...
				transition: transform 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			}

			.count {
				margin-left: 8px;
			}

			&:hover {
				color: $blue-medium;

				.gridicon {
					fill: $blue-medium;
				}
			}
		}

		.sidebar-menu__list {
			height: 0;
			overflow: hidden;
			//transition: max-height 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		}

		.sidebar-menu__item {
			transition: transform 0.2s cubic-bezier(0.230, 1.000, 0.320, 1.000),
				opacity 0.3s ease-in-out;
			opacity: 0;
			transform: translateY( -100px );
		}

		&.is-toggle-open {
			.sidebar-heading {
				background-color: $gray-light;
				box-shadow: 0 1px 0 lighten( $gray, 20 ),
					0 -1px 0 lighten( $gray, 20 );

				.gridicon {
					transform: rotate( 180deg );
				}
			}

			.sidebar-menu__add-button {
				opacity: 1;
				pointer-events: auto;
				transform: translateX( 0 );
			}

			.sidebar-menu__list {
				height: auto;
				padding: 8px 0;
			}

			.sidebar-menu__item {
				opacity: 1;
				transform: translateY( 0 );
			}
		}

		&.is-add-open {
			.sidebar-menu__add {
				opacity: 1;
				pointer-events: auto;
				transform: translateX( 0 );
			}

			.sidebar-menu__list {
				margin-top: 34px;
			}
		}
	}

	.sidebar-menu__list {}

	.sidebar-menu__item {
		a.add-new {
			margin-top: 5px;

			@include breakpoint( "<660px" ) {
				margin-top: 10px;
			}
		}
	}

	.sidebar-menu__item-label {
		padding: 8px 16px 8px 55px;

		@include breakpoint( "<660px" ) {
			padding: 18px 16px 18px 24px;
		}
	}

	.sidebar-menu__add-button {
		position: absolute;
			top: 7px;
			right: 8px;
		border-width: 1px;
		border-color: lighten( $gray, 20% );
		padding: 6px 7px;
		border-radius: 3px;

		// Disabled by default
		opacity: 0;
		transform: translateX( -20px );
		pointer-events: none;
		transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	.sidebar-menu__add {
		opacity: 0;
		transform: translateX( -30px );
		transition: all 0.15s ease-in;
		pointer-events: none;
		padding: 8px 8px 8px 45px;
		position: absolute;
			top: 38px;
			left: 0;
			right: 0;

		input {
			font-size: 13px;
			padding: 3px 8px;
		}
	}

	.sidebar-menu__action {
		position: absolute;
			top: 3px;
			right: 8px;
		line-height: 15px;
		padding: 3px 4px 2px 4px;

		.gridicon {
			position: relative;
				top: 0;
				left: auto;
			fill: $gray !important; // this needs to be more specific
		}

		&:hover {
			cursor: pointer;

			.gridicon {
				fill: $alert-red !important; // this needs to be more specific
			}
		}

		@include breakpoint( "<660px" ) {
			top: 7px;

			.gridicon {
				top: 6px;
			}
		}
	}

	.sidebar-menu__action-label {
		display: none;
	}
}