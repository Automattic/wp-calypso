// Mockup wrap
.site-mockup__wrap {
	margin: auto;
	padding: 0 16px;
	position: fixed;
		top: 47px;
		right: 0;
		bottom: 0;
		left: 0;
	background: rgba( yellow, 0.2 );
	transition: max-width 0.2s ease-in-out;

	z-index: 1000000; // Yea yea, I know... -shaun

	// We render the mockups offscreen by default
	// so that we can animate them in when needed.
	&.is-offscreen {
		.site-mockup__viewport {
			//transform: translateY( 65vh );
			transform: translateY( calc( 100vh - 47px ) );
		}
	}

	&.is-peeking {
		.site-mockup__viewport {
			//transform: translateY( 65vh );
			transform: translateY( calc( 100vh - 150px ) );
		}
	}

	// When first introduced, the empty
	// mockups are fixed to the viewport.
	/*
	&.is-fixed {
		//z-index: -1;
		position: fixed;
			top: 85vh;
			right: 0;
			left: 0;
		background: rgba( red, 0.2 );
	}
	*/

	// Side by side layout uses flexbox to show
	// both mockups next to each other without
	// any overlap.
	&.is-side-by-side {
		padding: 16px;
		max-width: 1200px;
		display: flex;
		align-items: flex-start;

		.site-mockup__viewport.desktop {
			margin-right: 16px;

			// Forces the desktop preview to take up
			// all available horizontal space.
			flex-grow: 1;
		}
	}

	// Grouped layout shows a fixed-height mobile mockup
	// overlaid on top of the desktop mockup.
	&.is-grouped {
		max-width: 800px;

		.site-mockup__viewport.mobile {
			height: 500px;
			position: absolute;
				top: 40px;
				right: 0;

			// The fixed height mobile mockup needs
			// to scroll and make room for the chrome.
			.site-mockup__body {
				overflow-y: auto;
				overflow-x: hidden;
				position: absolute;
					top: 28px;
					right: 0;
					bottom: 28px;
					left: 0;
			}
		}
	}
}

// The mockups themselves, both mobile
// and desktop variants.
.site-mockup__viewport {
	box-shadow: 0 2px 8px 0 rgba(0,0,0,0.20);
	border-radius: 4px;
	background: $white;
	margin: 0 auto;
	position: relative;
	transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);

	&.desktop {
		height: calc( 100% - 16px );
	}

	&.mobile {
		width: 300px;

		// This delay produces the wave effect
		// on the .offscreen transition.
		transition-delay: 0.075s;
	}
}

// Browser chrome to make mockups look
// a little more like a website/phone.
.site-mockup__chrome-desktop {
	height: 28px;
	border-radius: 4px 4px 0 0;
	background: $gray-dark;
	position: absolute;
		top: 0;
		right: 0;
		left: 0;

	// Desktop chrome has some OS dots to
	// help signify its a browser.
	svg {
		position: absolute;
			top: 8px;
			left: 8px;
		fill: $gray;
	}
}

.site-mockup__chrome-mobile {

	// Mobile chrome is on top and bottom
	.site-mockup__chrome-mobile-top,
	.site-mockup__chrome-mobile-bottom {
		height: 28px;
		background: $gray-dark;
		position: absolute;
			right: 0;
			left: 0;
	}

	.site-mockup__chrome-mobile-top {
		border-radius: 4px 4px 0 0;
		top: 0;

		// The top chrome as a speaker line to help
		// signify its a mobile phone.
		svg {
			position: absolute;
				top: 9px;
				left: 50%;
			margin-left: -15px; // Half the width to center it -shaun
			fill: $gray;
		}
	}

	.site-mockup__chrome-mobile-bottom {
		border-radius: 0 0 4px 4px;
		bottom: 0;
	}
}


// Mockup document body; Where all the
// stuff goes.
.site-mockup__body {
	
	// Desktop body needs to move for the chrome.
	.site-mockup__viewport.desktop & {
		//margin-top: 28px;
	}

	// Mobile body is scrollable and needs to
	// make room for the chrome.
	// Might not be needed **********
	.-site-mockup__viewport.mobile & {
		overflow-y: auto;
		overflow-x: hidden;
		position: absolute;
			top: 28px;
			right: 0;
			bottom: 28px;
			left: 0;
	}
}


// When empty, the mockup shows a simple
// illustrative representation of a website.
.site-mockup__placeholders {
	padding: 24px;
}

.site-mockup__placeholder {
	margin-bottom: 24px;
	height: 150px;
	border: 2px dashed lighten( $gray, 10 );

	&:last-child {
		margin-bottom: 0;
	}
}





// Temporary
.site-mockup__demo-button {
	position: absolute;
		top: 0;
		left: 0;
	z-index: 1;

	button {
		background: red;
		padding: 8px;
		color: white;
		border-radius: 4px;
		margin-right: 8px;
	}
}











// Shaun's mess around preview stuff that prolly
// doesn't make a ton of sense yet.
.previews {
	margin: 32px auto;
	position: relative;
	transition: bottom 0.6s cubic-bezier(0.19, 1, 0.22, 1);
	max-width: 1200px;
	padding: 0 32px;
	.preview-desktop {
		max-width: 900px;
	}
	.preview-mobile {
		position: absolute;
		top: 60px;
		right: 0;
	}

	@media (max-width: 780px) {
		padding: 0;
		.preview-mobile {
			display: none;
		}
	}
	@media (min-width: 1200px) {}
	
	&.pinned {
		z-index: -1;
		max-width: 100%;
		margin: 0;
		position: fixed;
			bottom: -460px;
			left: 32px;
			right: 32px;
			//bottom: -400px;
			//left: 50%;
		//margin: 0 0 0 (-860px/2);
	}

	&.introduce {
		.preview {
			transform: translateY( 0 );
		}
	}
	
	&.demo {
		.preview {
			//&.preview-desktop { height: auto; }
			.modern-demo { display: block; }
			.preview-placeholder { display: none; }
		}
	}
}

.preview {
	box-shadow: 0 2px 8px 0 rgba(0,0,0,0.20);
	border-radius: 4px;
	background: white;
	margin: auto;
	position: relative;
	transform: translateY( 120px );
	transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	padding-top: 28px;
	
	&.preview-mobile {
		width: 240px;
		height: 400px;
		padding-bottom: 28px;
		transition-delay: 0.05s;
	}
	
	.preview-content {
		overflow: auto;
		height: 100%;
	}
	
	.preview-chin {
		height: 28px;
		border-radius: 0 0 4px 4px;
		background: blue;
		position: absolute;
			right: 0;
			bottom: 0;
			left: 0;
	}
	

}

// Demo
.modern-demo {
	background: white;
	padding: 20px 0 0 0;
	display: none;
}
.demo-title {
	font-size: 30px;
	font-weight: bold;
	margin: 0 20px 10px 20px;
	line-height: 0.8;
}
.demo-tagline {
	font-size: 16px;
	color: #444;
	margin: 0 20px 20px 20px;
}
.demo-cover-image {
	background-image: url('https://images.unsplash.com/photo-1507048331197-7d4ac70811cf?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=cc14d05af9963bb8ee521c3c4ea6df55&auto=format&fit=crop&w=3134&q=80');
	background-size: cover;
	background-position: 50% 60%;
	
	span {
		color: #fff;
		font-weight: 300;
		text-align: center;
		font-size: 24px;
		padding: 60px 0;
		display: block;
		background: rgba( black, 0.6 );
	}
}
.demo-image-text {
	display: flex;
	padding: 24px;
	max-width: 600px;
	margin: 0 auto;
	img {
		max-width: 50%;
	}
	span {
		padding: 24px;
		margin: auto;
		min-width: 50%;
	}
}
