import {
	A4A_MARKETPLACE_HOSTING_LINK,
	A4A_MARKETPLACE_HOSTING_PRESSABLE_LINK,
	A4A_MARKETPLACE_HOSTING_WPCOM_LINK,
} from 'calypso/a8c-for-agencies/components/sidebar-menu/lib/constants';
import { APIProductFamilyProduct } from 'calypso/state/partner-portal/types';

/**
 * Get the cheapest plan from a list of plans
 * @param {APIProductFamilyProduct[]} plans - List of plans
 * @returns {APIProductFamilyProduct} - Cheapest plan
 */
export function getCheapestPlan( plans: APIProductFamilyProduct[] ) {
	return plans.reduce( ( cheapestPlan: APIProductFamilyProduct, plan: APIProductFamilyProduct ) => {
		if ( Number( plan.amount ) < Number( cheapestPlan.amount ) ) {
			return plan;
		}
		return cheapestPlan;
	}, plans[ 0 ] );
}

/**
 * Get the URL for a hosting provider
 * @param {string} slug - Hosting provider slug
 * @returns {string} - Hosting provider URL
 */
export function getHostingPageUrl( slug: string ) {
	switch ( slug ) {
		case 'pressable-hosting':
			return A4A_MARKETPLACE_HOSTING_PRESSABLE_LINK;
		case 'wpcom-hosting':
			return A4A_MARKETPLACE_HOSTING_WPCOM_LINK;
	}

	return A4A_MARKETPLACE_HOSTING_LINK;
}

/**
 * Get the logo for a hosting provider
 * @param {string} slug - Hosting provider slug
 * @returns {Element} - Hosting provider logo
 */
export function getHostingLogo( slug: string ) {
	switch ( slug ) {
		case 'pressable-hosting':
			return (
				<svg
					width="198"
					height="30"
					viewBox="0 0 198 30"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<g clip-path="url(#clip0_6011_8140)">
						<path
							d="M44.1636 2.24792C44.1636 1.36944 44.6028 1.20972 45.1618 1.20972H53.6272C60.7748 1.20972 63.0908 3.16632 63.0908 9.47539V10.1542C63.0908 16.5831 60.655 18.4199 53.6272 18.4199H47.7174V28.9616C47.7573 29.4807 47.398 29.92 46.8789 29.9998H46.7591C45.9205 29.9998 44.1636 29.7602 44.1636 29.2811V2.24792ZM47.7174 4.36425V15.2654H53.6272C58.339 15.2654 59.497 14.2671 59.497 10.1542V9.47539C59.497 5.36252 58.339 4.36425 53.6272 4.36425H47.7174Z"
							fill="#040047"
						/>
						<path
							d="M74.431 11.1926C72.0751 11.1926 69.8789 12.0711 69.8789 12.3905V29.0017C69.9189 29.4809 69.5994 29.8802 69.1602 29.9601H68.9605C68.2418 29.9601 66.6445 29.8004 66.6445 29.3212V10.993C66.6445 9.67525 69.8789 8.23774 74.3112 8.23774C75.2696 8.23774 77.905 8.19781 77.905 9.27594C77.905 10.8332 77.5456 11.4721 77.1064 11.4721C76.188 11.3124 75.3095 11.2325 74.431 11.1926Z"
							fill="#040047"
						/>
						<path
							d="M88.6866 29.96C82.2577 29.96 80.0615 27.4044 80.0615 20.4165V15.3853C80.0615 10.2741 82.657 8.27759 87.7682 8.27759H88.2873C93.7179 8.27759 95.7543 10.3141 95.7543 14.2273V15.1856C95.7543 19.8974 93.7578 21.4547 83.2959 21.4547C83.2959 25.5277 84.8133 27.2048 89.3654 27.2048C91.4817 27.2048 93.7179 26.6058 94.9158 26.6058C95.3151 26.6058 95.5946 26.8454 95.5946 28.5624C95.5946 29.0017 95.4349 29.1614 94.9956 29.2812C92.9192 29.7204 90.8029 29.96 88.6866 29.96ZM92.5599 14.1474C92.5599 11.9512 91.2022 10.7932 88.0077 10.7932C85.2525 10.7932 83.3358 11.6318 83.3358 15.2655V18.8592C91.3619 18.8592 92.5599 18.1804 92.5599 14.946V14.1474Z"
							fill="#040047"
						/>
						<path
							d="M105.298 27.045C108.372 27.045 110.129 26.3661 110.129 24.3696C110.129 19.6178 99.7474 20.696 99.7474 13.4685C99.7474 9.07609 103.301 8.23755 106.895 8.23755C108.732 8.19762 110.569 8.31741 112.405 8.55699C112.964 8.63686 113.084 8.9563 113.084 9.39554C113.084 10.7532 112.645 11.5119 112.246 11.5119C110.728 11.3122 109.211 11.1924 107.694 11.1924C104.779 11.1924 103.022 11.7515 103.022 13.5883C103.022 17.6612 113.444 16.7827 113.444 24.2897C113.444 28.8019 110.129 29.9599 105.857 29.9599C103.78 29.9599 101.744 29.8002 99.7075 29.4408C99.2283 29.2811 99.1484 29.1213 99.1484 28.8019C99.1484 27.005 99.8273 26.6456 100.107 26.6456H100.267C101.904 26.9252 103.581 27.045 105.298 27.045Z"
							fill="#040047"
						/>
						<path
							d="M122.707 27.045C125.782 27.045 127.539 26.3661 127.539 24.3696C127.539 19.6178 117.157 20.696 117.157 13.4685C117.157 9.07609 120.711 8.23755 124.305 8.23755C126.141 8.19762 127.978 8.31741 129.815 8.55699C130.374 8.63686 130.494 8.9563 130.494 9.39554C130.494 10.7532 130.055 11.5119 129.655 11.5119C128.138 11.3122 126.621 11.1924 125.103 11.1924C122.188 11.1924 120.431 11.7914 120.431 13.5883C120.431 17.6612 130.853 16.8227 130.853 24.3297C130.853 28.8418 127.539 29.9998 123.266 29.9998C121.19 29.9998 119.154 29.8401 117.077 29.4807C116.598 29.321 116.518 29.1613 116.518 28.8418C116.518 27.045 117.197 26.6856 117.476 26.6856H117.636C119.313 26.9252 121.03 27.045 122.707 27.045Z"
							fill="#040047"
						/>
						<path
							d="M149.262 27.8038C149.262 28.6822 145.588 29.96 141.515 29.96C136.164 29.96 133.888 28.0434 133.888 23.4912C133.888 19.3784 135.485 17.4218 140.317 17.4218C142.234 17.4617 144.15 17.7412 146.027 18.3402V14.8662C146.027 12.111 144.789 11.0728 140.916 11.0728C139.199 11.1127 137.482 11.2724 135.805 11.5519C135.086 11.5519 134.966 9.87485 134.966 9.59533C134.966 9.11616 135.086 8.95644 135.326 8.87658C136.124 8.59706 138.88 8.19775 141.715 8.19775C146.746 8.19775 149.222 9.51547 149.222 14.7065L149.262 27.8038ZM146.067 20.8957C145.788 20.6162 142.873 19.9374 141.076 19.9374C138.36 19.9374 137.163 20.6562 137.163 23.7308C137.163 26.526 138.4 27.4444 141.595 27.4444C143.192 27.4444 145.748 26.9652 146.067 26.5659V20.8957Z"
							fill="#040047"
						/>
						<path
							d="M156.529 10.0745C158.406 8.91653 160.522 8.27764 162.718 8.27764C167.829 8.27764 168.588 11.8315 168.588 15.5051V22.8524C168.588 26.7257 167.43 29.9601 161.041 29.9601C159.045 29.9601 156.01 29.8403 153.933 28.842C153.374 28.6024 153.175 28.243 153.175 27.5243V0.650856C153.175 0.171686 154.772 0.0119629 155.611 0.0119629C156.21 0.0119629 156.529 0.411271 156.529 1.13003V10.0745ZM156.529 26.4461C156.529 26.6857 158.805 27.125 161.001 27.125C165.114 27.125 165.314 24.8888 165.314 22.8124V15.585C165.314 13.5086 165.114 11.2325 161.96 11.2325C159.444 11.2325 156.609 12.4704 156.529 13.0693V26.4461Z"
							fill="#040047"
						/>
						<path
							d="M180.327 28.5624C180.327 29.8402 177.812 29.9201 176.853 29.9201C173.898 29.9201 172.301 28.4426 172.301 24.5693V0.610871C172.301 0.0917705 174.058 0.0119089 174.697 0.0119089C175.136 -0.0679526 175.576 0.291424 175.655 0.730663V24.1301C175.655 25.8471 176.015 26.8853 177.692 26.8853C178.331 26.8454 178.93 26.7655 179.529 26.6457C179.968 26.6058 180.327 28.0034 180.327 28.5624Z"
							fill="#040047"
						/>
						<path
							d="M190.55 29.96C184.121 29.96 181.965 27.4044 181.965 20.4165V15.3853C181.965 10.2741 184.56 8.27759 189.671 8.27759H190.191C195.621 8.27759 197.658 10.3141 197.658 14.2273V15.1856C197.658 19.8974 195.661 21.4547 185.199 21.4547C185.199 25.5277 186.717 27.2048 191.309 27.2048C193.425 27.2048 195.661 26.6058 196.859 26.6058C197.258 26.6058 197.538 26.8454 197.538 28.5624C197.538 29.0017 197.378 29.1614 196.939 29.2812C194.783 29.7204 192.666 29.96 190.55 29.96ZM194.383 14.1474C194.383 11.9512 193.026 10.7932 189.831 10.7932C187.076 10.7932 185.159 11.6318 185.159 15.2655V18.8592C193.185 18.8592 194.383 18.1804 194.383 14.946V14.1474Z"
							fill="#040047"
						/>
						<path
							d="M14.7744 7.39917H10.4619V15.3055H14.7744C18.2085 15.3055 19.0071 14.5867 19.0071 11.5919V11.1127C19.0071 8.11792 18.1686 7.39917 14.7744 7.39917Z"
							fill="#040047"
						/>
						<path
							d="M0 1.09009V29.96H18.488L28.87 19.578V1.09009H0ZM21.6425 11.5919C21.6425 16.2638 19.8855 17.5815 14.7744 17.5815H10.4619V25.2083C10.5018 25.5677 10.2622 25.927 9.8629 25.967H9.74311C9.14415 25.967 7.86637 25.8072 7.86637 25.4479V5.84185C7.86637 5.20296 8.18581 5.08317 8.58512 5.08317H14.7744C19.9654 5.08317 21.6425 6.52068 21.6425 11.0728V11.5919Z"
							fill="#040047"
						/>
					</g>
					<defs>
						<clipPath id="clip0_6011_8140">
							<rect width="197.657" height="30" fill="white" />
						</clipPath>
					</defs>
				</svg>
			);
		case 'wpcom-hosting':
			return (
				<svg
					width="185"
					height="30"
					viewBox="0 0 185 30"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<g clip-path="url(#clip0_6011_10419)">
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M21.8188 26.656L25.945 14.7467C26.7161 12.8227 26.9727 11.2845 26.9727 9.91653C26.9727 9.41988 26.9399 8.95909 26.8816 8.52958C27.9362 10.4503 28.5364 12.6546 28.5364 14.9995C28.5364 19.9746 25.8354 24.3187 21.8188 26.656ZM16.8886 8.67775C17.7019 8.63513 18.4347 8.5497 18.4347 8.5497C19.1626 8.46391 19.077 7.3958 18.3488 7.43842C18.3488 7.43842 16.1606 7.60982 14.7478 7.60982C13.4202 7.60982 11.1896 7.43842 11.1896 7.43842C10.4612 7.3958 10.3758 8.50671 11.1042 8.5497C11.1042 8.5497 11.7932 8.63513 12.5209 8.67775L14.6256 14.4346L11.6684 23.2855L6.74935 8.67775C7.56337 8.63513 8.29529 8.5497 8.29529 8.5497C9.02317 8.46391 8.93704 7.3958 8.20897 7.43842C8.20897 7.43842 6.0211 7.60982 4.6084 7.60982C4.35514 7.60982 4.05625 7.60342 3.73849 7.59336C6.15451 3.93263 10.3067 1.51507 15.0266 1.51507C18.5438 1.51507 21.7463 2.85738 24.1497 5.0558C24.0918 5.05214 24.0346 5.04482 23.9749 5.04482C22.6476 5.04482 21.706 6.19872 21.706 7.43842C21.706 8.5497 22.3483 9.48976 23.0331 10.6014C23.5468 11.4996 24.1468 12.6533 24.1468 14.3203C24.1468 15.4751 23.8039 16.9276 23.1189 18.6804L21.7711 23.1747L16.8886 8.67775ZM15.0276 28.4877C13.7016 28.4877 12.4215 28.2931 11.2112 27.9384L15.2651 16.1802L19.4175 27.5371C19.4448 27.6033 19.4781 27.6644 19.5142 27.7227C18.1099 28.2157 16.601 28.4877 15.0276 28.4877ZM1.51402 14.9975C1.51402 13.0422 1.93422 11.1858 2.6841 9.50893L9.12841 27.1345C4.62109 24.9489 1.51402 20.3358 1.51402 14.9975ZM15.0263 0C6.741 0 0 6.7286 0 14.9993C0 23.2707 6.741 30 15.0263 30C23.3117 30 30.0529 23.2707 30.0529 14.9993C30.0529 6.7286 23.3117 0 15.0263 0Z"
							fill="#101517"
						/>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M53.2218 8.57153L50.2255 20.0632L47.2297 8.57153H44.2053L44.9095 11.0343L42.2721 20.4521L39.4038 8.57153H36.4956L40.584 23.5801H43.753L46.202 15.556L48.4962 23.5801H51.6656L55.9568 8.57153H53.2218ZM140.344 23.5795H143.001V20.8469H140.344V23.5795ZM61.006 12.6689C57.3482 12.6689 55.62 15.0214 55.62 18.2694C55.62 21.5176 57.3482 23.8478 61.006 23.8478C64.6416 23.8478 66.392 21.5176 66.392 18.2694C66.392 15.0214 64.6416 12.6689 61.006 12.6689ZM61.0064 21.7202C59.2783 21.7202 58.3586 20.6003 58.3586 18.2702C58.3586 15.9629 59.2783 14.8202 61.0064 14.8202C62.7345 14.8202 63.6324 15.9406 63.6324 18.2702C63.6324 20.578 62.7345 21.7202 61.0064 21.7202ZM83.7233 12.917C82.9377 12.7606 82.3767 12.6706 81.726 12.6706C78.068 12.6706 76.0708 15.1125 76.0708 18.6744C76.0708 22.2137 78.068 23.8494 80.4245 23.8494C81.5917 23.8494 83.0051 23.3114 83.858 22.5947V23.5801H86.3711V8.57155H83.7233V12.917ZM83.7213 20.5131C82.8688 21.2969 82.0607 21.7228 81.2082 21.7228C79.7491 21.7228 78.8066 20.7591 78.8066 18.4968C78.8066 16.0549 79.9736 14.7783 81.9936 14.7783C82.6216 14.7783 83.2727 14.9349 83.7213 15.1142V20.5131ZM94.5502 8.57155H89.6455V23.5801H92.4733V18.3607H94.5502C97.7595 18.3607 100.094 16.6357 100.094 13.4101C100.094 10.1614 97.7595 8.57155 94.5502 8.57155ZM94.5742 16.1658H92.4747V10.7897H94.5742C96.2799 10.7897 97.133 11.7304 97.133 13.4107C97.133 15.068 96.3475 16.1658 94.5742 16.1658ZM114.475 12.6689C111.064 12.6689 109.291 15.3126 109.291 18.2021C109.291 22.1676 111.377 23.8478 114.763 23.8478C116.131 23.8478 117.314 23.6659 118.694 23.2426V21.0446C117.583 21.4516 116.58 21.6967 115.503 21.6967C113.529 21.6967 112.208 21.1593 112.141 18.8294H118.963C119.008 18.404 119.053 18.0009 119.053 17.2617C119.053 15.0214 117.864 12.6689 114.475 12.6689ZM112.163 17.0847C112.321 15.6061 113.128 14.6653 114.452 14.6653C115.866 14.6653 116.293 15.7857 116.293 17.0847H112.163ZM123.655 15.9175C123.655 15.1108 124.531 14.7976 125.473 14.7976C126.993 14.7976 128.435 15.2676 128.435 15.2676V13.0721C127.448 12.7811 126.438 12.6689 125.271 12.6689C122.713 12.6689 120.918 13.8786 120.918 15.8498C120.918 19.6807 126.214 18.6955 126.214 20.5545C126.214 21.473 125.383 21.7194 124.172 21.7194C123.319 21.7194 121.95 21.3872 120.963 21.0446V23.2178C121.785 23.5406 122.937 23.8478 124.082 23.8478C126.573 23.8478 128.952 23.1082 128.952 20.4426C128.952 16.7462 123.655 17.7095 123.655 15.9175ZM160.404 12.6689C156.746 12.6689 155.018 15.0214 155.018 18.2694C155.018 21.5176 156.746 23.8478 160.404 23.8478C164.04 23.8478 165.791 21.5176 165.791 18.2694C165.791 15.0214 164.04 12.6689 160.404 12.6689ZM160.404 21.7202C158.676 21.7202 157.756 20.6003 157.756 18.2702C157.756 15.9629 158.676 14.8202 160.404 14.8202C162.132 14.8202 163.03 15.9406 163.03 18.2702C163.03 20.578 162.132 21.7202 160.404 21.7202ZM180.94 12.6689C179.796 12.6689 178.495 13.2962 177.305 14.0804L176.991 14.2822C176.43 13.0948 175.308 12.6689 174.074 12.6689C172.929 12.6689 171.627 13.2517 170.438 14.0358V12.938H167.924V23.5785H170.595V15.9398C171.582 15.2903 172.637 14.8871 173.4 14.8871C174.276 14.8871 174.814 15.3572 174.814 16.8585V23.5785H177.462V15.9622C178.449 15.3126 179.505 14.8871 180.267 14.8871C181.142 14.8871 181.681 15.3572 181.681 16.8585V23.5785H184.329V16.2312C184.329 14.1698 183.095 12.6689 180.94 12.6689ZM104.305 14.6888H104.216V12.9415H101.747V23.582H104.395V17.2425C105.225 15.6746 106.235 15.1593 107.918 15.1593H108.187V12.852C108.187 12.852 107.806 12.807 107.469 12.807C106.033 12.807 105.046 13.367 104.305 14.6888ZM71.0853 14.6888H70.9957V12.9415H68.5267V23.582H71.1751V17.2425C72.0052 15.6746 73.0151 15.1593 74.6981 15.1593H74.9677V12.852C74.9677 12.852 74.5858 12.807 74.2497 12.807C72.813 12.807 71.8258 13.367 71.0853 14.6888ZM147.256 18.1576C147.256 15.6711 148.625 14.8194 150.241 14.8194C151.318 14.8194 152.451 15.1335 153.214 15.4245V13.1844C152.316 12.893 151.52 12.6689 150.196 12.6689C146.673 12.6689 144.496 14.8194 144.496 18.2917C144.496 21.5848 146.067 23.8478 150.039 23.8478C151.295 23.8478 152.271 23.6012 153.348 23.2426V21.0472C152.136 21.5176 151.206 21.6967 150.376 21.6967C148.625 21.6967 147.256 20.8904 147.256 18.1576ZM133.294 15.9175C133.294 15.1108 134.169 14.7976 135.111 14.7976C136.631 14.7976 138.074 15.2676 138.074 15.2676V13.0721C137.086 12.7811 136.076 12.6689 134.909 12.6689C132.351 12.6689 130.555 13.8786 130.555 15.8498C130.555 19.6807 135.852 18.6955 135.852 20.5545C135.852 21.473 135.021 21.7194 133.809 21.7194C132.957 21.7194 131.588 21.3872 130.601 21.0446V23.2178C131.423 23.5406 132.575 23.8478 133.72 23.8478C136.211 23.8478 138.589 23.1082 138.589 20.4426C138.589 16.7462 133.294 17.7095 133.294 15.9175Z"
							fill="#101517"
						/>
					</g>
					<defs>
						<clipPath id="clip0_6011_10419">
							<rect width="184.329" height="30" fill="white" />
						</clipPath>
					</defs>
				</svg>
			);
	}

	return null;
}

/**
 * Provided a license key or a product slug, can we trust that the product is a Pressable hosting product
 * @param keyOrSlug string
 * @returns boolean True if Pressable hosting product, false if not
 */
export function isPressableHostingProduct( keyOrSlug: string ) {
	return keyOrSlug.startsWith( 'pressable-hosting' );
}
