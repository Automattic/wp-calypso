/* stylelint-disable-next-line scss/at-import-no-partial-leading-underscore */
@import "calypso/assets/stylesheets/shared/_loading";
@import "@automattic/onboarding/styles/mixins";

$progress-duration: 800ms;

.processing-step {
	padding: 1em;
	max-width: 540px;
	text-align: center;
	margin: 16vh auto 0;

	&__progress-step {
		@include onboarding-font-recoleta;
		/* stylelint-disable-next-line scales/font-sizes */
		font-size: 1.625rem;
		line-height: 40px;
		text-align: center;
		vertical-align: middle;
		margin: 0;
	}
}

.processing-step__step-wrapper {
	.step-wrapper__content {
		padding: 1em;
		max-width: 540px;
		text-align: center;
		margin: 32vh auto;
	}
}

.processing-step__progress-bar {
	position: relative;
	overflow: hidden;
	height: 6px;
	margin-top: 1em;
	background: var(--studio-gray-10);

	--progress: 0;

	&::before {
		background: var(--studio-blue-50);
		transform: translateX(calc(-100% * min(1 - var(--progress, 0), 1)));
		position: absolute;
		content: "";
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		transition: transform $progress-duration ease-out;
	}
}

.site-setup.processing .step-container__content,
.anchor-fm.processing .step-container__content {
	width: 100%;
}

.is-videopress-stepper.is-processing-step {
	padding: 0;
	color: #fff;

	.processing-step__progress-bar {
		background-color: #fff3;
		border-radius: 4px;
		&::before {
			background-color: #ffe61c;
		}
	}

	@include break-medium {
		background-size: auto 50%, auto 50%;
	}

	@include break-large {
		background-position-y: 50%, 100%;
		background-position-x: 0, 100%;
	}
}

.processing {
	&.ecommerce {
		padding: 60px 0;
		min-height: 100%;
		min-width: 100%;
		width: 100%;
		height: auto;
		position: fixed;
		top: 0;
		left: 0;
		background-color: #fff;
		background-image:
			url(calypso/assets/images/onboarding/ecommerce-intro-1.jpg),
			url(calypso/assets/images/onboarding/ecommerce-intro-2.jpg);
		background-position-y: -40px, 110%;
		/*!rtl:ignore*/
		background-position-x: 109%, -10%;
		background-repeat: no-repeat, no-repeat;
		background-attachment: fixed;
		background-size: auto 15%, auto 25%;
		padding-top: 0;

		@include break-huge {
			background-size: auto 15%, auto 35%, auto 50%;
			background-position-x: 65%, -100px, 120%;
			background-position-y: 5%, 85%, 125%;
			background-image:
				url(calypso/assets/images/onboarding/ecommerce-intro-1.jpg),
				url(calypso/assets/images/onboarding/ecommerce-intro-2.jpg),
				url(calypso/assets/images/onboarding/ecommerce-intro-3.jpg);
		}
	}
}
