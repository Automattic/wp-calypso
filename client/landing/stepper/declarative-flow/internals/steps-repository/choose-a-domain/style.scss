@import "../../videopress-constants.scss";
@import "@wordpress/base-styles/breakpoints.scss";
@import "@wordpress/base-styles/mixins.scss";

$videopress-mobile-layout-width: 1200px;
$videopress-link-color: #c377ff;
$videopress-background: #010101;

.videopress.choose-adomain {
	--color-text-subtle: #a7aaad;
	// Silly override, but easily replaces green with purple as desired for VideoPress flow
	--studio-green-60: #c377ff;

	.chooseADomain.is-wide-layout {
		max-width: 1160px;
	}

	.step-container__header {
		@media (min-width: $videopress-mobile-layout-width) {
			padding: 0;
			margin-bottom: 40px;
		}

		padding: 20px;
		margin-bottom: 0;
		margin-top: 128px;
	}

	.register-domain-step__search {
		@media (min-width: $videopress-mobile-layout-width) {
			padding-top: 8px;
			padding-left: 0;
			padding-right: 0;
		}

		padding: 20px;
		padding-bottom: 24px;
	}

	.step-container__content {
		@media (min-width: $videopress-mobile-layout-width) {
			flex-direction: row;
		}

		display: flex;
		flex-direction: column;
		align-items: flex-start;
		gap: 80px;

		.register-domain-step {
			@media (min-width: $videopress-mobile-layout-width) {
				width: 800px;
			}
			width: 100%;
		}

		.register-domain-step__domain-side-content-container-domain-explanation-image {
			display: none;
		}

		.aside-sections {
			@media (min-width: $videopress-mobile-layout-width) {
				width: 280px;
			}
			width: 100%;

			display: flex;
			flex-direction: column;
			gap: 40px;

			.aside-spacer {
				display: block;
				height: 1px;
				width: 100%;
				background-color: rgba(255, 255, 255, 0.2);
			}

			.aside-section {
				@media (min-width: $videopress-mobile-layout-width) {
					padding: 0;
				}

				padding: 20px;
				display: flex;
				flex-direction: column;
				align-items: flex-start;
				/* stylelint-disable-next-line declaration-property-unit-allowed-list */
				font-size: 14px;
				font-weight: normal;
				gap: 12px;

				h2 {
					color: #fff;
					/* stylelint-disable-next-line declaration-property-unit-allowed-list */
					font-size: 20px;
					font-weight: normal;
				}

				span {
					color: #a7aaad;
				}

				button {
					font-weight: normal;
					padding: 0;
					margin: 0;
				}
			}
		}
	}

	.formatted-header__subtitle {
		text-align: center !important;
	}

	.step-container__navigation-link {
		font-size: 1rem;
		line-height: 1.55;
		color: #fff;
		margin-left: 5px;
	}

	.button.navigation-link.is-borderless {
		color: #fff;
	}

	.register-domain-step__search-card {
		border-radius: 4px;
	}

	.search-component {
		box-shadow: none;

		button,
		.components-button:focus:not(:disabled),
		input {
			border: 0;
			outline: none;
		}
	}

	.search-filters__dropdown-filters {
		button {
			border: 0;
		}
	}

	.domain-suggestion {
		background: none;
		box-shadow: none;
		border: none;
		cursor: pointer;

		.domain-registration-suggestion__domain-title-name {
			color: #c3c4c7 !important;
		}
		.domain-registration-suggestion__domain-title-tld {
			color: #fff;
		}

		.domain-product-price__price {
			color: var(--color-text-subtle) !important;
		}

		.domain-registration-suggestion__badges {
			.badge--info-green {
				background-color: $videopress-link-color;
				color: $videopress-background;
			}
			.badge--info-purple {
				background-color: #646970;
				color: #fff;
			}
		}

		.domain-suggestion__action {
			border: solid 1px rgba(255, 255, 255, 0.2);
			border-radius: 4px;
			color: #fff;
			background: none;
		}

		&:not(.is-placeholder):not(.featured-domain-suggestion) {
			border-bottom: solid 1px rgba(255, 255, 255, 0.2) !important;

			&:hover + .domain-suggestion {
				border-top: solid 1px #646970;
			}
		}
	}

	.featured-domain-suggestion.featured-domain-suggestion--is-placeholder {
		background-color: rgba(255, 255, 255, 0.15) !important;
		border: solid 1px rgba(255, 255, 255, 0.1) !important;

		@media (min-width: $videopress-mobile-layout-width) {
			.domain-product-price {
				flex-basis: 40%;
			}

			.domain-registration-suggestion__badges {
				align-self: center;
			}
		}

		.domain-registration-suggestion__match-reasons {
			display: none;
		}
	}

	.domain-suggestion.is-placeholder,
	.featured-domain-suggestion--is-placeholder {
		background: none;
		box-shadow: none;
		border-top: solid 1px rgba(255, 255, 255, 0.2);
		border-bottom: solid 1px rgba(255, 255, 255, 0.2);
		pointer-events: none;

		.domain-registration-suggestion__badges,
		.domain-registration-suggestion__match-reasons {
			flex: 1 1 0%;
			background-color: rgba(255, 255, 255, 0.2);
		}
	}

	.domain-suggestion.is-placeholder {
		.domain-suggestion__content {
			background-color: rgba(255, 255, 255, 0.2);
			margin-right: 0;
		}

		&:nth-of-type(2n + 1) .domain-suggestion__content {
			margin-right: 2%;
		}
	}

	.step-container .featured-domain-suggestions .domain-suggestion {
		background-color: rgba(255, 255, 255, 0.15);
	}

	.featured-domain-suggestions {
		.domain-suggestion {
			margin-bottom: 12px;
			background-color: rgba(255, 255, 255, 0.15);
			border: 0 none;
			box-shadow: none;

			.domain-registration-suggestion__domain-title-name,
			.domain-registration-suggestion__domain-title-tld {
				color: #fff;
			}

			.domain-suggestion__action {
				border: none;
				border-radius: 4px;
				background-color: #ffe61c;
				color: #000;
			}
		}

		.domain-registration-suggestion__match-reasons {
			svg.gridicon {
				fill: var(--color-text-subtle);
			}
		}
	}

	.register-domain-step__next-page {
		background: none;
		border: none;
		box-shadow: none;

		.register-domain-step__next-page-button {
			border: solid 1px rgba(255, 255, 255, 0.2);
			border-radius: 4px;
			color: #fff;
			background: none;
		}
	}

	.domain-registration-suggestion__title {
		align-self: baseline;
		flex: 0 1 auto;
	}

	.domain-registration-suggestion__badges {
		align-self: baseline;
		flex: 1;
		white-space: nowrap;

		@media (max-width: 1080px) {
			margin-left: 0;
		}
	}

	.featured-domain-suggestion.card .domain-product-price {
		align-items: flex-start;
		margin-top: 12px;
	}

	.register-domain-step__filter-reset-notice {
		background: none;
		color: #fff;
	}
}

.is-videopress-stepper {
	#search-filters-dropdown-filters {
		.token-field__suggestions-list {
			background-color: #111;
			border-color: #333;
		}

		.token-field {
			border-color: #333;
			color: #fff;
			outline: none;
			background-color: #111;
			box-shadow: none;

			.token-field__input {
				color: #fff;
			}

			::placeholder {
				color: #ffffffc0;
			}
		}

		.token-field__suggestion {
			color: #fff;
			&.is-selected {
				background-color: $videopress-theme-yellow;
				span {
					color: #000;
				}
			}
		}

		.popover__arrow {
			border: none;
			&::before {
				border-bottom-color: #161616;
			}
		}

		.popover__inner {
			background-color: #111;
			border-color: #333;
			box-shadow: 0 0 12px #ffffff20;
		}

		.search-filters__buttons {
			button {
				background: transparent;
				color: #fff;
				border-radius: 4px;
				border: solid 1px rgba(255, 255, 255, 0.2);

				&.is-primary {
					color: $videopress-theme-background-color;
					background-color: $videopress-theme-yellow;
					border-color: $videopress-theme-yellow;
				}
			}
		}

		.search-filters__checkbox-label {
			color: #fff;
		}

		.token-field__token {
			.token-field__token-text {
				background: none;
				color: #fff;
				border: 1px solid rgba(255, 255, 255, 0.2);
				border-right: none;
			}

			.token-field__remove-token {
				background: none;
				fill: #fff;
				border: 1px solid rgba(255, 255, 255, 0.2);
				border-left: none;
			}
		}
	}

	.search-filters__dropdown-filters-button-text .count.is-primary {
		background-color: #646970;
	}
}

#choose-a-domain-writer-header {
	p {
		text-align: center;
	}

	button {
		margin-left: 5px;
	}
}

.start-writing,
.design-first {
	.register-domain-step {
		box-shadow: none;
		background: none;
	}

	.register-domain-step__next-page-button {
		padding-bottom: 8px !important;
		margin: 20px 0;
	}

	.is-borderless {
		border: none;
	}

	.domain-suggestion,
	.domain-suggestion:hover,
	.featured-domain-suggestion,
	.featured-domain-suggestion:hover,
	.register-domain-step__next-page {
		background-color: inherit;
		box-shadow: none;
		border-top: solid 1px var(--studio-gray-5);
		padding-left: 0;
		padding-right: 0;
	}

	.has-underline {
		text-decoration: underline;
	}

	@include break-small {
		.step-container__navigation .navigation-link:first-of-type {
			margin-left: 40px;
			margin-top: 4px;
		}
	}
}
