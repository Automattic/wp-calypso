{
	"name": "wp-calypso-monorepo",
	"author": "Automattic Inc.",
	"version": "0.17.0",
	"description": "A pure REST-API and JS based version of the WordPress.com admin",
	"private": true,
	"license": "GPL-2.0-or-later",
	"repository": {
		"type": "git",
		"url": "https://github.com/Automattic/wp-calypso.git"
	},
	"browserslist": {
		"defaults": [
			"extends @wordpress/browserslist-config"
		],
		"evergreen": [
			"last 2 Chrome versions",
			"last 1 ChromeAndroid versions",
			"last 2 Firefox versions",
			"last 2 Safari versions",
			"last 2 iOS versions",
			"last 2 Edge versions",
			"last 2 Opera versions",
			"unreleased Chrome versions",
			"unreleased ChromeAndroid versions",
			"unreleased Firefox versions",
			"unreleased FirefoxAndroid versions",
			"unreleased Edge versions",
			"unreleased Opera versions"
		],
		"server": [
			"current node"
		]
	},
	"dependencies": {
		"@automattic/full-site-editing": "file:apps/full-site-editing",
		"@automattic/wpcom-block-editor": "file:apps/wpcom-block-editor",
		"wp-calypso": "file:client"
	},
	"engines": {
		"node": "^12.13.1",
		"npm": "^6.12.1"
	},
	"scripts": {
		"preanalyze-bundles": "cross-env-shell CALYPSO_ENV=production EMIT_STATS=true PROGRESS=1 NODE_ARGS=--max_old_space_size=8192 npm run -s build-client-evergreen",
		"analyze-bundles": "webpack-bundle-analyzer stats.json public/evergreen -h 127.0.0.1 -p 9898 -s gzip",
		"analyze-css": "node bin/analyze-css.js",
		"autoprefixer": "postcss -u autoprefixer -r --no-map --config packages/calypso-build/postcss.config.js",
		"postcss": "postcss -r --config packages/calypso-build/postcss.config.js",
		"prebuild": "npm run install-if-deps-outdated",
		"build": "npm run build-static && npm run build-packages && npm run build-css && run-p -s build-devdocs:* && run-p -s build-server build-client-if-prod build-client-if-desktop",
		"build-css": "run-p -s build-css:*",
		"build-css:directly": "node-sass --importer node_modules/node-sass-package-importer/dist/cli.js --include-path client client/assets/stylesheets/directly.scss public/directly.css --output-style compressed && npm run -s postcss -- public/directly.css",
		"build-css:editor": "node-sass --importer node_modules/node-sass-package-importer/dist/cli.js --include-path client client/assets/stylesheets/editor.scss public/editor.css --output-style compressed && npm run -s postcss -- public/editor.css",
		"build-devdocs:search-index": "node bin/generate-devdocs-search-index.js",
		"build-docker": "node bin/build-docker.js",
		"build-static": "npx ncp static public",
		"prebuild-server": "mkdirp build",
		"build-server": "cross-env-shell BROWSERSLIST_ENV=server NODE_PATH=$NODE_PATH:server:client:. webpack --display errors-only --config client/webpack.config.node.js",
		"build-client": "npm run build-client-evergreen",
		"build-client-fallback": "cross-env-shell BROWSERSLIST_ENV=defaults NODE_PATH=$NODE_PATH:server:client:. node $NODE_ARGS ./node_modules/webpack/bin/webpack.js --config client/webpack.config.js --display errors-only && npm run validate-fallback-es5",
		"build-client-evergreen": "cross-env-shell BROWSERSLIST_ENV=evergreen NODE_PATH=$NODE_PATH:server:client:. node $NODE_ARGS ./node_modules/webpack/bin/webpack.js --config client/webpack.config.js --display errors-only",
		"build-client-both": "CONCURRENT_BUILDS=2 concurrently -c cyan -n \"fallback ,evergreen\" \"npm run build-client-fallback\" \"npm run build-client-evergreen\"",
		"build-client-if-prod": "node -e \"process.env.CALYPSO_ENV === 'production' && process.exit(1)\" || cross-env-shell NODE_ARGS=${NODE_ARGS:---max_old_space_size=8192} npm run build-client-both",
		"build-client-if-desktop": "node -e \"(process.env.CALYPSO_ENV === 'desktop' || process.env.CALYPSO_ENV === 'desktop-development') && process.exit(1)\" || cross-env-shell NODE_ARGS=${NODE_ARGS:---max_old_space_size=8192} npm run build-client-fallback",
		"build-packages": "npx lerna run prepare --stream",
		"build-packages:watch": "chokidar \"./packages/**\" -i \"./packages/*/dist/**\" -i \"**.css\" -i \"**.d.ts\" --debounce 1000 --throttle 10000 -c \"npm run build-packages\"",
		"clean": "npm run -s clean:build && npm run -s clean:devdocs && npm run -s clean:public && npm run -s clean:packages",
		"clean:build": "npx rimraf build server/bundler/*.json .babel-cache",
		"clean:devdocs": "npx rimraf server/devdocs/search-index.js",
		"clean:packages": "npx lerna run clean --stream",
		"clean:public": "npx rimraf public",
		"distclean": "npm run -s clean && npx rimraf node_modules client/node_modules apps/*/node_modules packages/*/node_modules test/e2e/node_modules",
		"docker": "docker run -it --name wp-calypso --rm -p 80:3000 wp-calypso",
		"eslint-branch": "node bin/eslint-branch.js",
		"install-if-deps-outdated": "node bin/install-if-deps-outdated.js",
		"install-if-no-packages": "node bin/install-if-no-packages.js",
		"postinstall": "npm run build-packages",
		"lint": "run-s -s lint:*",
		"lint:config-defaults": "node bin/validate-config-keys.js",
		"lint:css": "stylelint \"**/*.scss\" --syntax scss",
		"lint:js": "npm run install-if-deps-outdated && eslint --ext .js --ext .jsx --ext .ts --ext .tsx --cache .",
		"lint:mixedindent": "mixedindentlint --ignore-comments \"client/**/*.scss\" \"assets/**/*.scss\" \"**/*.js\" \"**/*.jsx\" \"**/*.tsx\" \"**/*.tsx\" \"!build/**\" \"!node_modules/**\" \"!public/**\" \"!client/config/index.js\"",
		"lint:package-json": "npmPkgJsonLint './package.json' './client/package.json' './packages/*/package.json' './apps/*/package.json'",
		"prestart": "npx check-node-version --package && npm run install-if-deps-outdated && node bin/welcome.js",
		"start": "npm run -s build",
		"poststart": "run-p -s start-build-if-web start-build-if-desktop build-packages:watch",
		"reformat-files": "./node_modules/.bin/prettier --ignore-path .eslintignore --write \"**/*.{js,jsx,json,ts,tsx}\"",
		"start-build-fallback": "cross-env-shell BROWSERSLIST_ENV=defaults NODE_PATH=$NODE_PATH:server:client:. node NODE_ARGS=${NODE_ARGS:---max_old_space_size=8192} build/bundle.js",
		"start-build-evergreen": "cross-env-shell BROWSERSLIST_ENV=evergreen NODE_PATH=$NODE_PATH:server:client:. node $NODE_ARGS --max_old_space_size=8192 build/bundle.js",
		"start-build-if-desktop": "node -e \"(process.env.CALYPSO_ENV === 'desktop' || process.env.CALYPSO_ENV === 'desktop-development') && process.exit(1)\" || npm run start-build-fallback",
		"start-build-if-web": "node -e \"(process.env.CALYPSO_ENV !== 'desktop' && process.env.CALYPSO_ENV !== 'desktop-development') && process.exit(1)\" || npm run start-build-evergreen",
		"pretest": "npm run install-if-deps-outdated",
		"test": "run-s -s test-client test-packages test-server",
		"pretest-client": "npm run -s pretest",
		"test-client": "jest -c=test/client/jest.config.js",
		"test-client:watch": "npm run -s test-client -- --watch",
		"test-e2e": "cd test/e2e && npm ci && npm run test",
		"encrypt-e2e-config": "openssl enc -md sha1 -aes-256-cbc -pass env:CONFIG_KEY -out ./test/e2e/config/encrypted.enc -in ./test/e2e/config/local-$NODE_ENV.json",
		"decrypt-e2e-config": "openssl enc -md sha1 -aes-256-cbc -d -pass env:CONFIG_KEY -in ./test/e2e/config/encrypted.enc -out ./test/e2e/config/local-$NODE_ENV.json",
		"pretest-integration": "npm run -s pretest",
		"test-integration": "jest -c=test/integration/jest.config.js",
		"test-integration:watch": "npm run -s test-integration -- --watch",
		"test-packages": "jest -c=test/packages/jest.config.js",
		"test-packages:watch": "jest -c=test/packages/jest.config.js --watch",
		"pretest-server": "npm run -s pretest",
		"test-server": "jest -c=test/server/jest.config.js",
		"test-server:coverage": "npm run -s test-server -- --coverage",
		"test-server:watch": "npm run -s test-server -- --watch",
		"translate": "i18n-calypso --format pot --output-file ./calypso-strings.pot -k translate,__,_x,_n,_nx -e date '**/*.js' '**/*.jsx' '**/*.ts' '**/*.tsx' '!build/**' '!packages/**/dist/**' '!public/**' '!**/test/**' '!node_modules/**' '!apps/full-site-editing/**' '!**/node_modules/**'",
		"typecheck": "tsc --noEmit",
		"update-deps": "npx rimraf package-lock.json && npm run -s distclean && PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true npm i && replace --silent 'http://' 'https://' . --recursive --include='package-lock.json' && touch -m node_modules",
		"validate-fallback-es5": "npx eslint --parser-options=ecmaVersion:5 --no-eslintrc --no-ignore ./public/fallback/*.js",
		"prewhybundled": "cross-env-shell CALYPSO_ENV=production EMIT_STATS=withreasons NODE_ARGS=--max_old_space_size=8192 npm run -s build-client",
		"whybundled": "whybundled stats.json",
		"composite-checkout-demo": "webpack-dev-server --config ./packages/composite-checkout/webpack.config.demo.js --mode development",
		"components:storybook:start": "start-storybook -c packages/components/.storybook"
	},
	"devDependencies": {
		"@automattic/babel-plugin-i18n-calypso": "file:./packages/babel-plugin-i18n-calypso",
		"@automattic/babel-plugin-transform-wpcalypso-async": "file:./packages/babel-plugin-transform-wpcalypso-async",
		"@automattic/calypso-build": "file:./packages/calypso-build",
		"@automattic/calypso-color-schemes": "file:./packages/calypso-color-schemes",
		"@automattic/color-studio": "2.2.0",
		"@automattic/webpack-config-flag-plugin": "file:packages/webpack-config-flag-plugin",
		"@automattic/webpack-extensive-lodash-replacement-plugin": "file:./packages/webpack-extensive-lodash-replacement-plugin",
		"@automattic/webpack-inline-constant-exports-plugin": "file:./packages/webpack-inline-constant-exports-plugin",
		"@babel/cli": "7.7.5",
		"@babel/core": "7.7.5",
		"@storybook/addon-actions": "5.2.8",
		"@storybook/preset-scss": "1.0.2",
		"@storybook/preset-typescript": "1.2.0",
		"@storybook/react": "5.2.8",
		"@testing-library/jest-dom": "4.2.4",
		"@testing-library/react": "9.3.3",
		"@types/classnames": "2.2.9",
		"@types/debug": "4.1.5",
		"@types/fast-json-stable-stringify": "2.0.0",
		"@types/jest": "24.9.0",
		"@types/lodash": "4.14.149",
		"@types/page": "1.8.0",
		"@types/react": "16.9.17",
		"@types/react-redux": "7.1.6",
		"@types/react-router-dom": "5.1.3",
		"@types/react-transition-group": "4.2.3",
		"@types/webpack-env": "1.15.0",
		"@types/wordpress__api-fetch": "3.2.2",
		"@types/wordpress__block-editor": "2.2.5",
		"@types/wordpress__block-library": "2.6.0",
		"@types/wordpress__components": "8.5.1",
		"@types/wordpress__compose": "3.4.0",
		"@types/wordpress__data": "4.6.5",
		"@types/wordpress__data-controls": "1.0.1",
		"@types/wordpress__editor": "9.4.1",
		"@types/wordpress__element": "2.4.0",
		"@types/wordpress__i18n": "3.4.0",
		"@types/wordpress__is-shallow-equal": "1.4.0",
		"@types/wordpress__keycodes": "2.3.0",
		"@types/wordpress__url": "2.3.0",
		"@typescript-eslint/eslint-plugin": "2.16.0",
		"@typescript-eslint/parser": "2.16.0",
		"@wordpress/babel-plugin-makepot": "3.3.0",
		"@wordpress/browserslist-config": "2.6.0",
		"@wordpress/dependency-extraction-webpack-plugin": "2.1.0",
		"@wordpress/jest-preset-default": "5.3.1",
		"@wordpress/npm-package-json-lint-config": "2.1.0",
		"@wordpress/scripts": "6.1.1",
		"acorn": "6.4.0",
		"babel-eslint": "10.0.3",
		"babel-jest": "24.9.0",
		"babel-plugin-add-module-exports": "1.0.2",
		"babel-plugin-dynamic-import-node": "2.3.0",
		"babel-plugin-transform-react-remove-prop-types": "0.4.24",
		"calypso-codemods": "file:./packages/calypso-codemods",
		"caniuse-lite": "1.0.30001015",
		"chai": "4.2.0",
		"chai-enzyme": "1.0.0-beta.1",
		"chalk": "3.0.0",
		"check-node-version": "4.0.2",
		"chokidar-cli": "2.1.0",
		"circular-dependency-plugin": "5.2.0",
		"concurrently": "5.0.1",
		"cross-env": "6.0.3",
		"duplicate-package-checker-webpack-plugin": "3.0.0",
		"enzyme": "3.11.0",
		"enzyme-adapter-react-16": "1.15.1",
		"enzyme-to-json": "3.4.3",
		"eslint": "6.8.0",
		"eslint-config-prettier": "6.9.0",
		"eslint-config-wpcalypso": "file:./packages/eslint-config-wpcalypso",
		"eslint-plugin-import": "2.20.0",
		"eslint-plugin-jest": "23.6.0",
		"eslint-plugin-jsdoc": "18.4.3",
		"eslint-plugin-jsx-a11y": "6.2.3",
		"eslint-plugin-react": "7.17.0",
		"eslint-plugin-wpcalypso": "file:./packages/eslint-plugin-wpcalypso",
		"exports-loader": "0.7.0",
		"fake-indexeddb": "3.0.0",
		"fork-ts-checker-webpack-plugin": "3.1.1",
		"glob": "7.1.6",
		"globby": "10.0.1",
		"gzip-size": "5.1.1",
		"html-loader": "0.5.5",
		"html-webpack-plugin": "3.2.0",
		"husky": "3.1.0",
		"i18n-calypso-cli": "file:./packages/i18n-calypso-cli",
		"ignore-loader": "0.1.2",
		"imports-loader": "0.8.0",
		"interpolate-components": "1.1.1",
		"jest": "24.9.0",
		"jest-docblock": "24.9.0",
		"jest-emotion": "10.0.27",
		"jest-enzyme": "7.1.2",
		"jest-fetch-mock": "2.1.2",
		"jest-junit": "9.0.0",
		"lerna": "3.20.2",
		"loader-utils": "1.2.3",
		"lodash": "4.17.15",
		"md5-file": "4.0.0",
		"mixedindentlint": "1.2.0",
		"mkdirp": "0.5.1",
		"mockdate": "2.0.5",
		"moment-timezone-data-webpack-plugin": "1.1.0",
		"ncp": "2.0.0",
		"nock": "11.7.0",
		"node-sass-package-importer": "5.3.2",
		"npm-merge-driver": "2.3.5",
		"npm-package-json-lint": "4.4.0",
		"npm-run-all": "4.1.5",
		"postcss-cli": "6.1.3",
		"prettier": "npm:wp-prettier@1.19.1",
		"react-docgen-typescript-loader": "3.6.0",
		"react-test-renderer": "16.12.0",
		"readline-sync": "1.4.10",
		"replace": "1.1.1",
		"rimraf": "3.0.0",
		"sinon": "7.5.0",
		"sinon-chai": "3.3.0",
		"socket.io": "2.3.0",
		"source-map": "0.7.3",
		"source-map-loader": "0.2.4",
		"source-map-support": "0.5.16",
		"stackframe": "1.1.0",
		"stacktrace-gps": "3.0.3",
		"stylelint": "9.10.1",
		"supertest": "4.0.2",
		"svgstore-cli": "1.3.1",
		"ts-loader": "6.2.1",
		"typescript": "3.7.5",
		"webpack": "4.41.5",
		"webpack-bundle-analyzer": "3.6.0",
		"webpack-cli": "3.3.10",
		"webpack-dev-middleware": "3.7.2",
		"webpack-dev-server": "3.10.1",
		"webpack-hot-middleware": "2.25.0",
		"webpack-node-externals": "1.7.2",
		"whybundled": "1.4.2",
		"yargs": "13.3.0"
	},
	"optionalDependencies": {
		"fsevents": "2.1.2"
	},
	"husky": {
		"hooks": {
			"pre-commit": "npm run -s install-if-no-packages && node bin/pre-commit-hook.js",
			"pre-push": "npm run -s install-if-no-packages && node bin/pre-push-hook.js"
		}
	}
}
